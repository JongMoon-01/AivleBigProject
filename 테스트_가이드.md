# RSA μ•”νΈν™” λ΅κ·ΈμΈ/νμ›κ°€μ… ν…μ¤νΈ κ°€μ΄λ“

## ν…μ¤νΈ μ¤€λΉ„

1. **λ°±μ—”λ“ μ„λ²„ μ¬μ‹μ‘**
   - IDEμ—μ„ `AuthApplication.java` μ¤‘μ§€ ν›„ λ‹¤μ‹ μ‹¤ν–‰
   - μ½μ†”μ—μ„ "Started AuthApplication" λ©”μ‹μ§€ ν™•μΈ

2. **ν”„λ΅ νΈμ—”λ“ μ„λ²„ ν™•μΈ**
   - http://localhost:3000 μ ‘μ† κ°€λ¥ ν™•μΈ

## ν…μ¤νΈ λ°©λ²•

### λ°©λ²• 1: React μ›Ή μΈν„°νμ΄μ¤ ν…μ¤νΈ
1. λΈλΌμ°μ €μ—μ„ http://localhost:3000 μ ‘μ†
2. "νμ›κ°€μ…" νƒ­ ν΄λ¦­
3. ν…μ¤νΈ λ°μ΄ν„° μ…λ ¥:
   - μ‚¬μ©μλ…: testuser1
   - μ΄λ©”μΌ: test1@example.com
   - λΉ„λ°€λ²νΈ: testpass123
4. νμ›κ°€μ… λ²„νΌ ν΄λ¦­
5. μ„±κ³µ λ©”μ‹μ§€ ν™•μΈ
6. "λ΅κ·ΈμΈ" νƒ­μΌλ΅ μ΄λ™
7. κ°™μ€ μ‚¬μ©μλ…κ³Ό λΉ„λ°€λ²νΈλ΅ λ΅κ·ΈμΈ
8. κ°λ°μ λ„κµ¬(F12) > Network νƒ­μ—μ„ μ”μ²­ ν™•μΈ:
   
   **Network νƒ­ ν™•μΈ λ°©λ²•:**
   
   a) **κ°λ°μ λ„κµ¬ μ—΄κΈ°**
      - F12 ν‚¤ λλ” Ctrl+Shift+I (Windows)
      - Command+Option+I (Mac)
      - λλ” μ°ν΄λ¦­ β†’ "κ²€μ‚¬" μ„ νƒ
   
   b) **Network νƒ­ μ„ νƒ**
      - μƒλ‹¨ λ©”λ‰΄μ—μ„ "Network" λλ” "λ„¤νΈμ›ν¬" νƒ­ ν΄λ¦­
      - "Clear" λ²„νΌ(π«)μ„ ν΄λ¦­ν•μ—¬ μ΄μ „ μ”μ²­ μ κ±°
      - "Preserve log" μ²΄ν¬λ°•μ¤ μ„ νƒ (νμ΄μ§€ μ΄λ™ μ‹μ—λ„ λ΅κ·Έ μ μ§€)
   
   c) **νμ›κ°€μ…/λ΅κ·ΈμΈ μ‹ λ°μƒν•λ” μ”μ²­ ν™•μΈ**
      
      **1) public-key μ”μ²­ ν™•μΈ:**
      - Name: `public-key`
      - Method: `GET`
      - Status: `200`
      - URL: `http://localhost:8080/api/auth/public-key`
      - Response νƒ­ ν΄λ¦­ μ‹ ν‘μ‹λλ” λ‚΄μ©:
        ```json
        {
          "publicKey": "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA..."
        }
        ```
   
      **2) register λλ” login μ”μ²­ ν™•μΈ:**
      - Name: `register` λλ” `login`
      - Method: `POST`
      - Status: `200`
      - Headers νƒ­μ—μ„ Content-Type: `application/json` ν™•μΈ
      - **Payload νƒ­** λλ” **Request νƒ­** ν΄λ¦­ν•μ—¬ μ „μ†΅λ λ°μ΄ν„° ν™•μΈ:
        ```json
        {
          "username": "testuser1",
          "email": "test1@example.com",
          "encryptedPassword": "κΈ΄ μ•”νΈν™”λ λ¬Έμμ—΄ (μ: bXkgZW5jcnlwdGVkIHBhc3N3b3Jk...)",
          "password": null
        }
        ```
   
   d) **RSA μ•”νΈν™” μ μ© ν™•μΈ ν¬μΈνΈ:**
      - β… `encryptedPassword` ν•„λ“μ— κΈ΄ μ•”νΈν™”λ λ¬Έμμ—΄μ΄ μμ–΄μ•Ό ν•¨
      - β… `password` ν•„λ“λ” `null`μ΄μ–΄μ•Ό ν•¨ (ν‰λ¬Έ λΉ„λ°€λ²νΈκ°€ μ „μ†΅λμ§€ μ•μ)
      - β… `public-key` μ”μ²­μ΄ `register`/`login` μ”μ²­λ³΄λ‹¤ λ¨Όμ € λ°μƒ
      - β… μ•”νΈν™”λ λΉ„λ°€λ²νΈλ” λ§¤λ² λ‹¤λ¥Έ κ°’ (κ°™μ€ λΉ„λ°€λ²νΈλΌλ„)
   
   e) **Response ν™•μΈ:**
      - Response νƒ­μ—μ„ μ„λ²„ μ‘λ‹µ ν™•μΈ:
        ```json
        {
          "token": "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcjEi...",
          "username": "testuser1",
          "message": "Registration successful" λλ” "Login successful"
        }
        ```

### λ°©λ²• 2: HTML ν…μ¤νΈ νμ΄μ§€
1. `test-rsa-encryption.html` νμΌμ„ λΈλΌμ°μ €μ—μ„ μ—΄κΈ°
2. μμ„λ€λ΅ ν…μ¤νΈ:
   - "κ³µκ°ν‚¤ μ”μ²­" λ²„νΌ ν΄λ¦­
   - "μ•”νΈν™” ν…μ¤νΈ" λ²„νΌ ν΄λ¦­
   - "RSA μ•”νΈν™”λ΅ νμ›κ°€μ…" λ²„νΌ ν΄λ¦­
   - "RSA μ•”νΈν™”λ΅ λ΅κ·ΈμΈ" λ²„νΌ ν΄λ¦­

### λ°©λ²• 3: μ»¤λ§¨λ“λΌμΈ ν…μ¤νΈ
```bash
cd C:\Users\User\Downloads\νμ›κ°€μ…
node test-api.js
```

## ν™•μΈ μ‚¬ν•­

### RSA μ•”νΈν™” λ™μ‘ ν™•μΈ
1. κ°λ°μ λ„κµ¬μ—μ„ Network νƒ­ μ—΄κΈ°
2. λ΅κ·ΈμΈ/νμ›κ°€μ… μ‹ μ”μ²­ ν™•μΈ:
   - `/api/auth/public-key` μ”μ²­μ΄ λ¨Όμ € λ°μƒ
   - `/api/auth/register` λλ” `/api/auth/login` μ”μ²­μ—μ„ `encryptedPassword` ν•„λ“ ν™•μΈ
   - `password` ν•„λ“λ” nullμ΄μ–΄μ•Ό ν•¨

### μμƒ μ”μ²­ ν•μ‹
```json
{
  "username": "testuser1",
  "email": "test1@example.com",
  "encryptedPassword": "κΈ΄ μ•”νΈν™”λ λ¬Έμμ—΄...",
  "password": null
}
```

## λ¬Έμ  ν•΄κ²°

### "κ³µκ°ν‚¤ μ”μ²­ μ‹¤ν¨" μ¤λ¥
- λ°±μ—”λ“ μ„λ²„κ°€ μ‹¤ν–‰ μ¤‘μΈμ§€ ν™•μΈ
- PublicKeyResponse.java μμ • ν›„ μ„λ²„ μ¬μ‹μ‘ ν•„μ”

### "Failed to decrypt password" μ¤λ¥
- κ³µκ°ν‚¤κ°€ μ¬λ°”λ¥΄κ² λ°›μ•„μ΅λ”μ§€ ν™•μΈ
- JSEncrypt λΌμ΄λΈλ¬λ¦¬κ°€ λ΅λ“λμ—λ”μ§€ ν™•μΈ

### CORS μ¤λ¥
- λ°±μ—”λ“κ°€ http://localhost:8080μ—μ„ μ‹¤ν–‰ μ¤‘μΈμ§€ ν™•μΈ
- ν”„λ΅ νΈμ—”λ“κ°€ http://localhost:3000μ—μ„ μ‹¤ν–‰ μ¤‘μΈμ§€ ν™•μΈ
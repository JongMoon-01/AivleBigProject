{"ast":null,"code":"/* asn1-1.0.13.js (c) 2013-2017 Kenji Urushima | kjur.github.com/jsrsasign/license\r\n */\n/*\r\n * asn1.js - ASN.1 DER encoder classes\r\n *\r\n * Copyright (c) 2013-2017 Kenji Urushima (kenji.urushima@gmail.com)\r\n *\r\n * This software is licensed under the terms of the MIT License.\r\n * https://kjur.github.io/jsrsasign/license\r\n *\r\n * The above copyright and license notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n */\nimport { BigInteger } from \"../jsbn/jsbn\";\nimport { YAHOO } from \"./yahoo\";\n/**\r\n * @fileOverview\r\n * @name asn1-1.0.js\r\n * @author Kenji Urushima kenji.urushima@gmail.com\r\n * @version asn1 1.0.13 (2017-Jun-02)\r\n * @since jsrsasign 2.1\r\n * @license <a href=\"https://kjur.github.io/jsrsasign/license/\">MIT License</a>\r\n */\n/**\r\n * kjur's class library name space\r\n * <p>\r\n * This name space provides following name spaces:\r\n * <ul>\r\n * <li>{@link KJUR.asn1} - ASN.1 primitive hexadecimal encoder</li>\r\n * <li>{@link KJUR.asn1.x509} - ASN.1 structure for X.509 certificate and CRL</li>\r\n * <li>{@link KJUR.crypto} - Java Cryptographic Extension(JCE) style MessageDigest/Signature\r\n * class and utilities</li>\r\n * </ul>\r\n * </p>\r\n * NOTE: Please ignore method summary and document of this namespace. This caused by a bug of jsdoc2.\r\n * @name KJUR\r\n * @namespace kjur's class library name space\r\n */\nexport var KJUR = {};\n/**\r\n * kjur's ASN.1 class library name space\r\n * <p>\r\n * This is ITU-T X.690 ASN.1 DER encoder class library and\r\n * class structure and methods is very similar to\r\n * org.bouncycastle.asn1 package of\r\n * well known BouncyCaslte Cryptography Library.\r\n * <h4>PROVIDING ASN.1 PRIMITIVES</h4>\r\n * Here are ASN.1 DER primitive classes.\r\n * <ul>\r\n * <li>0x01 {@link KJUR.asn1.DERBoolean}</li>\r\n * <li>0x02 {@link KJUR.asn1.DERInteger}</li>\r\n * <li>0x03 {@link KJUR.asn1.DERBitString}</li>\r\n * <li>0x04 {@link KJUR.asn1.DEROctetString}</li>\r\n * <li>0x05 {@link KJUR.asn1.DERNull}</li>\r\n * <li>0x06 {@link KJUR.asn1.DERObjectIdentifier}</li>\r\n * <li>0x0a {@link KJUR.asn1.DEREnumerated}</li>\r\n * <li>0x0c {@link KJUR.asn1.DERUTF8String}</li>\r\n * <li>0x12 {@link KJUR.asn1.DERNumericString}</li>\r\n * <li>0x13 {@link KJUR.asn1.DERPrintableString}</li>\r\n * <li>0x14 {@link KJUR.asn1.DERTeletexString}</li>\r\n * <li>0x16 {@link KJUR.asn1.DERIA5String}</li>\r\n * <li>0x17 {@link KJUR.asn1.DERUTCTime}</li>\r\n * <li>0x18 {@link KJUR.asn1.DERGeneralizedTime}</li>\r\n * <li>0x30 {@link KJUR.asn1.DERSequence}</li>\r\n * <li>0x31 {@link KJUR.asn1.DERSet}</li>\r\n * </ul>\r\n * <h4>OTHER ASN.1 CLASSES</h4>\r\n * <ul>\r\n * <li>{@link KJUR.asn1.ASN1Object}</li>\r\n * <li>{@link KJUR.asn1.DERAbstractString}</li>\r\n * <li>{@link KJUR.asn1.DERAbstractTime}</li>\r\n * <li>{@link KJUR.asn1.DERAbstractStructured}</li>\r\n * <li>{@link KJUR.asn1.DERTaggedObject}</li>\r\n * </ul>\r\n * <h4>SUB NAME SPACES</h4>\r\n * <ul>\r\n * <li>{@link KJUR.asn1.cades} - CAdES long term signature format</li>\r\n * <li>{@link KJUR.asn1.cms} - Cryptographic Message Syntax</li>\r\n * <li>{@link KJUR.asn1.csr} - Certificate Signing Request (CSR/PKCS#10)</li>\r\n * <li>{@link KJUR.asn1.tsp} - RFC 3161 Timestamping Protocol Format</li>\r\n * <li>{@link KJUR.asn1.x509} - RFC 5280 X.509 certificate and CRL</li>\r\n * </ul>\r\n * </p>\r\n * NOTE: Please ignore method summary and document of this namespace.\r\n * This caused by a bug of jsdoc2.\r\n * @name KJUR.asn1\r\n * @namespace\r\n */\nif (typeof KJUR.asn1 == \"undefined\" || !KJUR.asn1) KJUR.asn1 = {};\n/**\r\n * ASN1 utilities class\r\n * @name KJUR.asn1.ASN1Util\r\n * @class ASN1 utilities class\r\n * @since asn1 1.0.2\r\n */\nKJUR.asn1.ASN1Util = new function () {\n  this.integerToByteHex = function (i) {\n    var h = i.toString(16);\n    if (h.length % 2 == 1) h = '0' + h;\n    return h;\n  };\n  this.bigIntToMinTwosComplementsHex = function (bigIntegerValue) {\n    var h = bigIntegerValue.toString(16);\n    if (h.substr(0, 1) != '-') {\n      if (h.length % 2 == 1) {\n        h = '0' + h;\n      } else {\n        if (!h.match(/^[0-7]/)) {\n          h = '00' + h;\n        }\n      }\n    } else {\n      var hPos = h.substr(1);\n      var xorLen = hPos.length;\n      if (xorLen % 2 == 1) {\n        xorLen += 1;\n      } else {\n        if (!h.match(/^[0-7]/)) {\n          xorLen += 2;\n        }\n      }\n      var hMask = '';\n      for (var i = 0; i < xorLen; i++) {\n        hMask += 'f';\n      }\n      var biMask = new BigInteger(hMask, 16);\n      var biNeg = biMask.xor(bigIntegerValue).add(BigInteger.ONE);\n      h = biNeg.toString(16).replace(/^-/, '');\n    }\n    return h;\n  };\n  /**\r\n   * get PEM string from hexadecimal data and header string\r\n   * @name getPEMStringFromHex\r\n   * @memberOf KJUR.asn1.ASN1Util\r\n   * @function\r\n   * @param {String} dataHex hexadecimal string of PEM body\r\n   * @param {String} pemHeader PEM header string (ex. 'RSA PRIVATE KEY')\r\n   * @return {String} PEM formatted string of input data\r\n   * @description\r\n   * This method converts a hexadecimal string to a PEM string with\r\n   * a specified header. Its line break will be CRLF(\"\\r\\n\").\r\n   * @example\r\n   * var pem  = KJUR.asn1.ASN1Util.getPEMStringFromHex('616161', 'RSA PRIVATE KEY');\r\n   * // value of pem will be:\r\n   * -----BEGIN PRIVATE KEY-----\r\n   * YWFh\r\n   * -----END PRIVATE KEY-----\r\n   */\n  this.getPEMStringFromHex = function (dataHex, pemHeader) {\n    return hextopem(dataHex, pemHeader);\n  };\n  /**\r\n   * generate ASN1Object specifed by JSON parameters\r\n   * @name newObject\r\n   * @memberOf KJUR.asn1.ASN1Util\r\n   * @function\r\n   * @param {Array} param JSON parameter to generate ASN1Object\r\n   * @return {KJUR.asn1.ASN1Object} generated object\r\n   * @since asn1 1.0.3\r\n   * @description\r\n   * generate any ASN1Object specified by JSON param\r\n   * including ASN.1 primitive or structured.\r\n   * Generally 'param' can be described as follows:\r\n   * <blockquote>\r\n   * {TYPE-OF-ASNOBJ: ASN1OBJ-PARAMETER}\r\n   * </blockquote>\r\n   * 'TYPE-OF-ASN1OBJ' can be one of following symbols:\r\n   * <ul>\r\n   * <li>'bool' - DERBoolean</li>\r\n   * <li>'int' - DERInteger</li>\r\n   * <li>'bitstr' - DERBitString</li>\r\n   * <li>'octstr' - DEROctetString</li>\r\n   * <li>'null' - DERNull</li>\r\n   * <li>'oid' - DERObjectIdentifier</li>\r\n   * <li>'enum' - DEREnumerated</li>\r\n   * <li>'utf8str' - DERUTF8String</li>\r\n   * <li>'numstr' - DERNumericString</li>\r\n   * <li>'prnstr' - DERPrintableString</li>\r\n   * <li>'telstr' - DERTeletexString</li>\r\n   * <li>'ia5str' - DERIA5String</li>\r\n   * <li>'utctime' - DERUTCTime</li>\r\n   * <li>'gentime' - DERGeneralizedTime</li>\r\n   * <li>'seq' - DERSequence</li>\r\n   * <li>'set' - DERSet</li>\r\n   * <li>'tag' - DERTaggedObject</li>\r\n   * </ul>\r\n   * @example\r\n   * newObject({'prnstr': 'aaa'});\r\n   * newObject({'seq': [{'int': 3}, {'prnstr': 'aaa'}]})\r\n   * // ASN.1 Tagged Object\r\n   * newObject({'tag': {'tag': 'a1',\r\n   *                    'explicit': true,\r\n   *                    'obj': {'seq': [{'int': 3}, {'prnstr': 'aaa'}]}}});\r\n   * // more simple representation of ASN.1 Tagged Object\r\n   * newObject({'tag': ['a1',\r\n   *                    true,\r\n   *                    {'seq': [\r\n   *                      {'int': 3},\r\n   *                      {'prnstr': 'aaa'}]}\r\n   *                   ]});\r\n   */\n  this.newObject = function (param) {\n    var _KJUR = KJUR,\n      _KJUR_asn1 = _KJUR.asn1,\n      _DERBoolean = _KJUR_asn1.DERBoolean,\n      _DERInteger = _KJUR_asn1.DERInteger,\n      _DERBitString = _KJUR_asn1.DERBitString,\n      _DEROctetString = _KJUR_asn1.DEROctetString,\n      _DERNull = _KJUR_asn1.DERNull,\n      _DERObjectIdentifier = _KJUR_asn1.DERObjectIdentifier,\n      _DEREnumerated = _KJUR_asn1.DEREnumerated,\n      _DERUTF8String = _KJUR_asn1.DERUTF8String,\n      _DERNumericString = _KJUR_asn1.DERNumericString,\n      _DERPrintableString = _KJUR_asn1.DERPrintableString,\n      _DERTeletexString = _KJUR_asn1.DERTeletexString,\n      _DERIA5String = _KJUR_asn1.DERIA5String,\n      _DERUTCTime = _KJUR_asn1.DERUTCTime,\n      _DERGeneralizedTime = _KJUR_asn1.DERGeneralizedTime,\n      _DERSequence = _KJUR_asn1.DERSequence,\n      _DERSet = _KJUR_asn1.DERSet,\n      _DERTaggedObject = _KJUR_asn1.DERTaggedObject,\n      _newObject = _KJUR_asn1.ASN1Util.newObject;\n    var keys = Object.keys(param);\n    if (keys.length != 1) throw \"key of param shall be only one.\";\n    var key = keys[0];\n    if (\":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:\".indexOf(\":\" + key + \":\") == -1) throw \"undefined key: \" + key;\n    if (key == \"bool\") return new _DERBoolean(param[key]);\n    if (key == \"int\") return new _DERInteger(param[key]);\n    if (key == \"bitstr\") return new _DERBitString(param[key]);\n    if (key == \"octstr\") return new _DEROctetString(param[key]);\n    if (key == \"null\") return new _DERNull(param[key]);\n    if (key == \"oid\") return new _DERObjectIdentifier(param[key]);\n    if (key == \"enum\") return new _DEREnumerated(param[key]);\n    if (key == \"utf8str\") return new _DERUTF8String(param[key]);\n    if (key == \"numstr\") return new _DERNumericString(param[key]);\n    if (key == \"prnstr\") return new _DERPrintableString(param[key]);\n    if (key == \"telstr\") return new _DERTeletexString(param[key]);\n    if (key == \"ia5str\") return new _DERIA5String(param[key]);\n    if (key == \"utctime\") return new _DERUTCTime(param[key]);\n    if (key == \"gentime\") return new _DERGeneralizedTime(param[key]);\n    if (key == \"seq\") {\n      var paramList = param[key];\n      var a = [];\n      for (var i = 0; i < paramList.length; i++) {\n        var asn1Obj = _newObject(paramList[i]);\n        a.push(asn1Obj);\n      }\n      return new _DERSequence({\n        'array': a\n      });\n    }\n    if (key == \"set\") {\n      var paramList = param[key];\n      var a = [];\n      for (var i = 0; i < paramList.length; i++) {\n        var asn1Obj = _newObject(paramList[i]);\n        a.push(asn1Obj);\n      }\n      return new _DERSet({\n        'array': a\n      });\n    }\n    if (key == \"tag\") {\n      var tagParam = param[key];\n      if (Object.prototype.toString.call(tagParam) === '[object Array]' && tagParam.length == 3) {\n        var obj = _newObject(tagParam[2]);\n        return new _DERTaggedObject({\n          tag: tagParam[0],\n          explicit: tagParam[1],\n          obj: obj\n        });\n      } else {\n        var newParam = {};\n        if (tagParam.explicit !== undefined) newParam.explicit = tagParam.explicit;\n        if (tagParam.tag !== undefined) newParam.tag = tagParam.tag;\n        if (tagParam.obj === undefined) throw \"obj shall be specified for 'tag'.\";\n        newParam.obj = _newObject(tagParam.obj);\n        return new _DERTaggedObject(newParam);\n      }\n    }\n  };\n  /**\r\n   * get encoded hexadecimal string of ASN1Object specifed by JSON parameters\r\n   * @name jsonToASN1HEX\r\n   * @memberOf KJUR.asn1.ASN1Util\r\n   * @function\r\n   * @param {Array} param JSON parameter to generate ASN1Object\r\n   * @return hexadecimal string of ASN1Object\r\n   * @since asn1 1.0.4\r\n   * @description\r\n   * As for ASN.1 object representation of JSON object,\r\n   * please see {@link newObject}.\r\n   * @example\r\n   * jsonToASN1HEX({'prnstr': 'aaa'});\r\n   */\n  this.jsonToASN1HEX = function (param) {\n    var asn1Obj = this.newObject(param);\n    return asn1Obj.getEncodedHex();\n  };\n}();\n/**\r\n * get dot noted oid number string from hexadecimal value of OID\r\n * @name oidHexToInt\r\n * @memberOf KJUR.asn1.ASN1Util\r\n * @function\r\n * @param {String} hex hexadecimal value of object identifier\r\n * @return {String} dot noted string of object identifier\r\n * @since jsrsasign 4.8.3 asn1 1.0.7\r\n * @description\r\n * This static method converts from hexadecimal string representation of\r\n * ASN.1 value of object identifier to oid number string.\r\n * @example\r\n * KJUR.asn1.ASN1Util.oidHexToInt('550406') &rarr; \"2.5.4.6\"\r\n */\nKJUR.asn1.ASN1Util.oidHexToInt = function (hex) {\n  var s = \"\";\n  var i01 = parseInt(hex.substr(0, 2), 16);\n  var i0 = Math.floor(i01 / 40);\n  var i1 = i01 % 40;\n  var s = i0 + \".\" + i1;\n  var binbuf = \"\";\n  for (var i = 2; i < hex.length; i += 2) {\n    var value = parseInt(hex.substr(i, 2), 16);\n    var bin = (\"00000000\" + value.toString(2)).slice(-8);\n    binbuf = binbuf + bin.substr(1, 7);\n    if (bin.substr(0, 1) == \"0\") {\n      var bi = new BigInteger(binbuf, 2);\n      s = s + \".\" + bi.toString(10);\n      binbuf = \"\";\n    }\n  }\n  ;\n  return s;\n};\n/**\r\n * get hexadecimal value of object identifier from dot noted oid value\r\n * @name oidIntToHex\r\n * @memberOf KJUR.asn1.ASN1Util\r\n * @function\r\n * @param {String} oidString dot noted string of object identifier\r\n * @return {String} hexadecimal value of object identifier\r\n * @since jsrsasign 4.8.3 asn1 1.0.7\r\n * @description\r\n * This static method converts from object identifier value string.\r\n * to hexadecimal string representation of it.\r\n * @example\r\n * KJUR.asn1.ASN1Util.oidIntToHex(\"2.5.4.6\") &rarr; \"550406\"\r\n */\nKJUR.asn1.ASN1Util.oidIntToHex = function (oidString) {\n  var itox = function (i) {\n    var h = i.toString(16);\n    if (h.length == 1) h = '0' + h;\n    return h;\n  };\n  var roidtox = function (roid) {\n    var h = '';\n    var bi = new BigInteger(roid, 10);\n    var b = bi.toString(2);\n    var padLen = 7 - b.length % 7;\n    if (padLen == 7) padLen = 0;\n    var bPad = '';\n    for (var i = 0; i < padLen; i++) bPad += '0';\n    b = bPad + b;\n    for (var i = 0; i < b.length - 1; i += 7) {\n      var b8 = b.substr(i, 7);\n      if (i != b.length - 7) b8 = '1' + b8;\n      h += itox(parseInt(b8, 2));\n    }\n    return h;\n  };\n  if (!oidString.match(/^[0-9.]+$/)) {\n    throw \"malformed oid string: \" + oidString;\n  }\n  var h = '';\n  var a = oidString.split('.');\n  var i0 = parseInt(a[0]) * 40 + parseInt(a[1]);\n  h += itox(i0);\n  a.splice(0, 2);\n  for (var i = 0; i < a.length; i++) {\n    h += roidtox(a[i]);\n  }\n  return h;\n};\n// ********************************************************************\n//  Abstract ASN.1 Classes\n// ********************************************************************\n// ********************************************************************\n/**\r\n * base class for ASN.1 DER encoder object\r\n * @name KJUR.asn1.ASN1Object\r\n * @class base class for ASN.1 DER encoder object\r\n * @property {Boolean} isModified flag whether internal data was changed\r\n * @property {String} hTLV hexadecimal string of ASN.1 TLV\r\n * @property {String} hT hexadecimal string of ASN.1 TLV tag(T)\r\n * @property {String} hL hexadecimal string of ASN.1 TLV length(L)\r\n * @property {String} hV hexadecimal string of ASN.1 TLV value(V)\r\n * @description\r\n */\nKJUR.asn1.ASN1Object = function () {\n  var isModified = true;\n  var hTLV = null;\n  var hT = '00';\n  var hL = '00';\n  var hV = '';\n  /**\r\n   * get hexadecimal ASN.1 TLV length(L) bytes from TLV value(V)\r\n   * @name getLengthHexFromValue\r\n   * @memberOf KJUR.asn1.ASN1Object#\r\n   * @function\r\n   * @return {String} hexadecimal string of ASN.1 TLV length(L)\r\n   */\n  this.getLengthHexFromValue = function () {\n    if (typeof this.hV == \"undefined\" || this.hV == null) {\n      throw \"this.hV is null or undefined.\";\n    }\n    if (this.hV.length % 2 == 1) {\n      throw \"value hex must be even length: n=\" + hV.length + \",v=\" + this.hV;\n    }\n    var n = this.hV.length / 2;\n    var hN = n.toString(16);\n    if (hN.length % 2 == 1) {\n      hN = \"0\" + hN;\n    }\n    if (n < 128) {\n      return hN;\n    } else {\n      var hNlen = hN.length / 2;\n      if (hNlen > 15) {\n        throw \"ASN.1 length too long to represent by 8x: n = \" + n.toString(16);\n      }\n      var head = 128 + hNlen;\n      return head.toString(16) + hN;\n    }\n  };\n  /**\r\n   * get hexadecimal string of ASN.1 TLV bytes\r\n   * @name getEncodedHex\r\n   * @memberOf KJUR.asn1.ASN1Object#\r\n   * @function\r\n   * @return {String} hexadecimal string of ASN.1 TLV\r\n   */\n  this.getEncodedHex = function () {\n    if (this.hTLV == null || this.isModified) {\n      this.hV = this.getFreshValueHex();\n      this.hL = this.getLengthHexFromValue();\n      this.hTLV = this.hT + this.hL + this.hV;\n      this.isModified = false;\n      //alert(\"first time: \" + this.hTLV);\n    }\n    return this.hTLV;\n  };\n  /**\r\n   * get hexadecimal string of ASN.1 TLV value(V) bytes\r\n   * @name getValueHex\r\n   * @memberOf KJUR.asn1.ASN1Object#\r\n   * @function\r\n   * @return {String} hexadecimal string of ASN.1 TLV value(V) bytes\r\n   */\n  this.getValueHex = function () {\n    this.getEncodedHex();\n    return this.hV;\n  };\n  this.getFreshValueHex = function () {\n    return '';\n  };\n};\n// == BEGIN DERAbstractString ================================================\n/**\r\n * base class for ASN.1 DER string classes\r\n * @name KJUR.asn1.DERAbstractString\r\n * @class base class for ASN.1 DER string classes\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @property {String} s internal string of value\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>str - specify initial ASN.1 value(V) by a string</li>\r\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n */\nKJUR.asn1.DERAbstractString = function (params) {\n  KJUR.asn1.DERAbstractString.superclass.constructor.call(this);\n  var s = null;\n  var hV = null;\n  /**\r\n   * get string value of this string object\r\n   * @name getString\r\n   * @memberOf KJUR.asn1.DERAbstractString#\r\n   * @function\r\n   * @return {String} string value of this string object\r\n   */\n  this.getString = function () {\n    return this.s;\n  };\n  /**\r\n   * set value by a string\r\n   * @name setString\r\n   * @memberOf KJUR.asn1.DERAbstractString#\r\n   * @function\r\n   * @param {String} newS value by a string to set\r\n   */\n  this.setString = function (newS) {\n    this.hTLV = null;\n    this.isModified = true;\n    this.s = newS;\n    this.hV = stohex(this.s);\n  };\n  /**\r\n   * set value by a hexadecimal string\r\n   * @name setStringHex\r\n   * @memberOf KJUR.asn1.DERAbstractString#\r\n   * @function\r\n   * @param {String} newHexString value by a hexadecimal string to set\r\n   */\n  this.setStringHex = function (newHexString) {\n    this.hTLV = null;\n    this.isModified = true;\n    this.s = null;\n    this.hV = newHexString;\n  };\n  this.getFreshValueHex = function () {\n    return this.hV;\n  };\n  if (typeof params != \"undefined\") {\n    if (typeof params == \"string\") {\n      this.setString(params);\n    } else if (typeof params['str'] != \"undefined\") {\n      this.setString(params['str']);\n    } else if (typeof params['hex'] != \"undefined\") {\n      this.setStringHex(params['hex']);\n    }\n  }\n};\nYAHOO.lang.extend(KJUR.asn1.DERAbstractString, KJUR.asn1.ASN1Object);\n// == END   DERAbstractString ================================================\n// == BEGIN DERAbstractTime ==================================================\n/**\r\n * base class for ASN.1 DER Generalized/UTCTime class\r\n * @name KJUR.asn1.DERAbstractTime\r\n * @class base class for ASN.1 DER Generalized/UTCTime class\r\n * @param {Array} params associative array of parameters (ex. {'str': '130430235959Z'})\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * @see KJUR.asn1.ASN1Object - superclass\r\n */\nKJUR.asn1.DERAbstractTime = function (params) {\n  KJUR.asn1.DERAbstractTime.superclass.constructor.call(this);\n  var s = null;\n  var date = null;\n  // --- PRIVATE METHODS --------------------\n  this.localDateToUTC = function (d) {\n    utc = d.getTime() + d.getTimezoneOffset() * 60000;\n    var utcDate = new Date(utc);\n    return utcDate;\n  };\n  /*\r\n   * format date string by Data object\r\n   * @name formatDate\r\n   * @memberOf KJUR.asn1.AbstractTime;\r\n   * @param {Date} dateObject\r\n   * @param {string} type 'utc' or 'gen'\r\n   * @param {boolean} withMillis flag for with millisections or not\r\n   * @description\r\n   * 'withMillis' flag is supported from asn1 1.0.6.\r\n   */\n  this.formatDate = function (dateObject, type, withMillis) {\n    var pad = this.zeroPadding;\n    var d = this.localDateToUTC(dateObject);\n    var year = String(d.getFullYear());\n    if (type == 'utc') year = year.substr(2, 2);\n    var month = pad(String(d.getMonth() + 1), 2);\n    var day = pad(String(d.getDate()), 2);\n    var hour = pad(String(d.getHours()), 2);\n    var min = pad(String(d.getMinutes()), 2);\n    var sec = pad(String(d.getSeconds()), 2);\n    var s = year + month + day + hour + min + sec;\n    if (withMillis === true) {\n      var millis = d.getMilliseconds();\n      if (millis != 0) {\n        var sMillis = pad(String(millis), 3);\n        sMillis = sMillis.replace(/[0]+$/, \"\");\n        s = s + \".\" + sMillis;\n      }\n    }\n    return s + \"Z\";\n  };\n  this.zeroPadding = function (s, len) {\n    if (s.length >= len) return s;\n    return new Array(len - s.length + 1).join('0') + s;\n  };\n  // --- PUBLIC METHODS --------------------\n  /**\r\n   * get string value of this string object\r\n   * @name getString\r\n   * @memberOf KJUR.asn1.DERAbstractTime#\r\n   * @function\r\n   * @return {String} string value of this time object\r\n   */\n  this.getString = function () {\n    return this.s;\n  };\n  /**\r\n   * set value by a string\r\n   * @name setString\r\n   * @memberOf KJUR.asn1.DERAbstractTime#\r\n   * @function\r\n   * @param {String} newS value by a string to set such like \"130430235959Z\"\r\n   */\n  this.setString = function (newS) {\n    this.hTLV = null;\n    this.isModified = true;\n    this.s = newS;\n    this.hV = stohex(newS);\n  };\n  /**\r\n   * set value by a Date object\r\n   * @name setByDateValue\r\n   * @memberOf KJUR.asn1.DERAbstractTime#\r\n   * @function\r\n   * @param {Integer} year year of date (ex. 2013)\r\n   * @param {Integer} month month of date between 1 and 12 (ex. 12)\r\n   * @param {Integer} day day of month\r\n   * @param {Integer} hour hours of date\r\n   * @param {Integer} min minutes of date\r\n   * @param {Integer} sec seconds of date\r\n   */\n  this.setByDateValue = function (year, month, day, hour, min, sec) {\n    var dateObject = new Date(Date.UTC(year, month - 1, day, hour, min, sec, 0));\n    this.setByDate(dateObject);\n  };\n  this.getFreshValueHex = function () {\n    return this.hV;\n  };\n};\nYAHOO.lang.extend(KJUR.asn1.DERAbstractTime, KJUR.asn1.ASN1Object);\n// == END   DERAbstractTime ==================================================\n// == BEGIN DERAbstractStructured ============================================\n/**\r\n * base class for ASN.1 DER structured class\r\n * @name KJUR.asn1.DERAbstractStructured\r\n * @class base class for ASN.1 DER structured class\r\n * @property {Array} asn1Array internal array of ASN1Object\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * @see KJUR.asn1.ASN1Object - superclass\r\n */\nKJUR.asn1.DERAbstractStructured = function (params) {\n  KJUR.asn1.DERAbstractString.superclass.constructor.call(this);\n  var asn1Array = null;\n  /**\r\n   * set value by array of ASN1Object\r\n   * @name setByASN1ObjectArray\r\n   * @memberOf KJUR.asn1.DERAbstractStructured#\r\n   * @function\r\n   * @param {array} asn1ObjectArray array of ASN1Object to set\r\n   */\n  this.setByASN1ObjectArray = function (asn1ObjectArray) {\n    this.hTLV = null;\n    this.isModified = true;\n    this.asn1Array = asn1ObjectArray;\n  };\n  /**\r\n   * append an ASN1Object to internal array\r\n   * @name appendASN1Object\r\n   * @memberOf KJUR.asn1.DERAbstractStructured#\r\n   * @function\r\n   * @param {ASN1Object} asn1Object to add\r\n   */\n  this.appendASN1Object = function (asn1Object) {\n    this.hTLV = null;\n    this.isModified = true;\n    this.asn1Array.push(asn1Object);\n  };\n  this.asn1Array = new Array();\n  if (typeof params != \"undefined\") {\n    if (typeof params['array'] != \"undefined\") {\n      this.asn1Array = params['array'];\n    }\n  }\n};\nYAHOO.lang.extend(KJUR.asn1.DERAbstractStructured, KJUR.asn1.ASN1Object);\n// ********************************************************************\n//  ASN.1 Object Classes\n// ********************************************************************\n// ********************************************************************\n/**\r\n * class for ASN.1 DER Boolean\r\n * @name KJUR.asn1.DERBoolean\r\n * @class class for ASN.1 DER Boolean\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * @see KJUR.asn1.ASN1Object - superclass\r\n */\nKJUR.asn1.DERBoolean = function () {\n  KJUR.asn1.DERBoolean.superclass.constructor.call(this);\n  this.hT = \"01\";\n  this.hTLV = \"0101ff\";\n};\nYAHOO.lang.extend(KJUR.asn1.DERBoolean, KJUR.asn1.ASN1Object);\n// ********************************************************************\n/**\r\n * class for ASN.1 DER Integer\r\n * @name KJUR.asn1.DERInteger\r\n * @class class for ASN.1 DER Integer\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>int - specify initial ASN.1 value(V) by integer value</li>\r\n * <li>bigint - specify initial ASN.1 value(V) by BigInteger object</li>\r\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n */\nKJUR.asn1.DERInteger = function (params) {\n  KJUR.asn1.DERInteger.superclass.constructor.call(this);\n  this.hT = \"02\";\n  /**\r\n   * set value by Tom Wu's BigInteger object\r\n   * @name setByBigInteger\r\n   * @memberOf KJUR.asn1.DERInteger#\r\n   * @function\r\n   * @param {BigInteger} bigIntegerValue to set\r\n   */\n  this.setByBigInteger = function (bigIntegerValue) {\n    this.hTLV = null;\n    this.isModified = true;\n    this.hV = KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(bigIntegerValue);\n  };\n  /**\r\n   * set value by integer value\r\n   * @name setByInteger\r\n   * @memberOf KJUR.asn1.DERInteger\r\n   * @function\r\n   * @param {Integer} integer value to set\r\n   */\n  this.setByInteger = function (intValue) {\n    var bi = new BigInteger(String(intValue), 10);\n    this.setByBigInteger(bi);\n  };\n  /**\r\n   * set value by integer value\r\n   * @name setValueHex\r\n   * @memberOf KJUR.asn1.DERInteger#\r\n   * @function\r\n   * @param {String} hexadecimal string of integer value\r\n   * @description\r\n   * <br/>\r\n   * NOTE: Value shall be represented by minimum octet length of\r\n   * two's complement representation.\r\n   * @example\r\n   * new KJUR.asn1.DERInteger(123);\r\n   * new KJUR.asn1.DERInteger({'int': 123});\r\n   * new KJUR.asn1.DERInteger({'hex': '1fad'});\r\n   */\n  this.setValueHex = function (newHexString) {\n    this.hV = newHexString;\n  };\n  this.getFreshValueHex = function () {\n    return this.hV;\n  };\n  if (typeof params != \"undefined\") {\n    if (typeof params['bigint'] != \"undefined\") {\n      this.setByBigInteger(params['bigint']);\n    } else if (typeof params['int'] != \"undefined\") {\n      this.setByInteger(params['int']);\n    } else if (typeof params == \"number\") {\n      this.setByInteger(params);\n    } else if (typeof params['hex'] != \"undefined\") {\n      this.setValueHex(params['hex']);\n    }\n  }\n};\nYAHOO.lang.extend(KJUR.asn1.DERInteger, KJUR.asn1.ASN1Object);\n// ********************************************************************\n/**\r\n * class for ASN.1 DER encoded BitString primitive\r\n * @name KJUR.asn1.DERBitString\r\n * @class class for ASN.1 DER encoded BitString primitive\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>bin - specify binary string (ex. '10111')</li>\r\n * <li>array - specify array of boolean (ex. [true,false,true,true])</li>\r\n * <li>hex - specify hexadecimal string of ASN.1 value(V) including unused bits</li>\r\n * <li>obj - specify {@link KJUR.asn1.ASN1Util.newObject}\r\n * argument for \"BitString encapsulates\" structure.</li>\r\n * </ul>\r\n * NOTE1: 'params' can be omitted.<br/>\r\n * NOTE2: 'obj' parameter have been supported since\r\n * asn1 1.0.11, jsrsasign 6.1.1 (2016-Sep-25).<br/>\r\n * @example\r\n * // default constructor\r\n * o = new KJUR.asn1.DERBitString();\r\n * // initialize with binary string\r\n * o = new KJUR.asn1.DERBitString({bin: \"1011\"});\r\n * // initialize with boolean array\r\n * o = new KJUR.asn1.DERBitString({array: [true,false,true,true]});\r\n * // initialize with hexadecimal string (04 is unused bits)\r\n * o = new KJUR.asn1.DEROctetString({hex: \"04bac0\"});\r\n * // initialize with ASN1Util.newObject argument for encapsulated\r\n * o = new KJUR.asn1.DERBitString({obj: {seq: [{int: 3}, {prnstr: 'aaa'}]}});\r\n * // above generates a ASN.1 data like this:\r\n * // BIT STRING, encapsulates {\r\n * //   SEQUENCE {\r\n * //     INTEGER 3\r\n * //     PrintableString 'aaa'\r\n * //     }\r\n * //   }\r\n */\nKJUR.asn1.DERBitString = function (params) {\n  if (params !== undefined && typeof params.obj !== \"undefined\") {\n    var o = KJUR.asn1.ASN1Util.newObject(params.obj);\n    params.hex = \"00\" + o.getEncodedHex();\n  }\n  KJUR.asn1.DERBitString.superclass.constructor.call(this);\n  this.hT = \"03\";\n  /**\r\n   * set ASN.1 value(V) by a hexadecimal string including unused bits\r\n   * @name setHexValueIncludingUnusedBits\r\n   * @memberOf KJUR.asn1.DERBitString#\r\n   * @function\r\n   * @param {String} newHexStringIncludingUnusedBits\r\n   */\n  this.setHexValueIncludingUnusedBits = function (newHexStringIncludingUnusedBits) {\n    this.hTLV = null;\n    this.isModified = true;\n    this.hV = newHexStringIncludingUnusedBits;\n  };\n  /**\r\n   * set ASN.1 value(V) by unused bit and hexadecimal string of value\r\n   * @name setUnusedBitsAndHexValue\r\n   * @memberOf KJUR.asn1.DERBitString#\r\n   * @function\r\n   * @param {Integer} unusedBits\r\n   * @param {String} hValue\r\n   */\n  this.setUnusedBitsAndHexValue = function (unusedBits, hValue) {\n    if (unusedBits < 0 || 7 < unusedBits) {\n      throw \"unused bits shall be from 0 to 7: u = \" + unusedBits;\n    }\n    var hUnusedBits = \"0\" + unusedBits;\n    this.hTLV = null;\n    this.isModified = true;\n    this.hV = hUnusedBits + hValue;\n  };\n  /**\r\n   * set ASN.1 DER BitString by binary string<br/>\r\n   * @name setByBinaryString\r\n   * @memberOf KJUR.asn1.DERBitString#\r\n   * @function\r\n   * @param {String} binaryString binary value string (i.e. '10111')\r\n   * @description\r\n   * Its unused bits will be calculated automatically by length of\r\n   * 'binaryValue'. <br/>\r\n   * NOTE: Trailing zeros '0' will be ignored.\r\n   * @example\r\n   * o = new KJUR.asn1.DERBitString();\r\n   * o.setByBooleanArray(\"01011\");\r\n   */\n  this.setByBinaryString = function (binaryString) {\n    binaryString = binaryString.replace(/0+$/, '');\n    var unusedBits = 8 - binaryString.length % 8;\n    if (unusedBits == 8) unusedBits = 0;\n    for (var i = 0; i <= unusedBits; i++) {\n      binaryString += '0';\n    }\n    var h = '';\n    for (var i = 0; i < binaryString.length - 1; i += 8) {\n      var b = binaryString.substr(i, 8);\n      var x = parseInt(b, 2).toString(16);\n      if (x.length == 1) x = '0' + x;\n      h += x;\n    }\n    this.hTLV = null;\n    this.isModified = true;\n    this.hV = '0' + unusedBits + h;\n  };\n  /**\r\n   * set ASN.1 TLV value(V) by an array of boolean<br/>\r\n   * @name setByBooleanArray\r\n   * @memberOf KJUR.asn1.DERBitString#\r\n   * @function\r\n   * @param {array} booleanArray array of boolean (ex. [true, false, true])\r\n   * @description\r\n   * NOTE: Trailing falses will be ignored in the ASN.1 DER Object.\r\n   * @example\r\n   * o = new KJUR.asn1.DERBitString();\r\n   * o.setByBooleanArray([false, true, false, true, true]);\r\n   */\n  this.setByBooleanArray = function (booleanArray) {\n    var s = '';\n    for (var i = 0; i < booleanArray.length; i++) {\n      if (booleanArray[i] == true) {\n        s += '1';\n      } else {\n        s += '0';\n      }\n    }\n    this.setByBinaryString(s);\n  };\n  /**\r\n   * generate an array of falses with specified length<br/>\r\n   * @name newFalseArray\r\n   * @memberOf KJUR.asn1.DERBitString\r\n   * @function\r\n   * @param {Integer} nLength length of array to generate\r\n   * @return {array} array of boolean falses\r\n   * @description\r\n   * This static method may be useful to initialize boolean array.\r\n   * @example\r\n   * o = new KJUR.asn1.DERBitString();\r\n   * o.newFalseArray(3) &rarr; [false, false, false]\r\n   */\n  this.newFalseArray = function (nLength) {\n    var a = new Array(nLength);\n    for (var i = 0; i < nLength; i++) {\n      a[i] = false;\n    }\n    return a;\n  };\n  this.getFreshValueHex = function () {\n    return this.hV;\n  };\n  if (typeof params != \"undefined\") {\n    if (typeof params == \"string\" && params.toLowerCase().match(/^[0-9a-f]+$/)) {\n      this.setHexValueIncludingUnusedBits(params);\n    } else if (typeof params['hex'] != \"undefined\") {\n      this.setHexValueIncludingUnusedBits(params['hex']);\n    } else if (typeof params['bin'] != \"undefined\") {\n      this.setByBinaryString(params['bin']);\n    } else if (typeof params['array'] != \"undefined\") {\n      this.setByBooleanArray(params['array']);\n    }\n  }\n};\nYAHOO.lang.extend(KJUR.asn1.DERBitString, KJUR.asn1.ASN1Object);\n// ********************************************************************\n/**\r\n * class for ASN.1 DER OctetString<br/>\r\n * @name KJUR.asn1.DEROctetString\r\n * @class class for ASN.1 DER OctetString\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * This class provides ASN.1 OctetString simple type.<br/>\r\n * Supported \"params\" attributes are:\r\n * <ul>\r\n * <li>str - to set a string as a value</li>\r\n * <li>hex - to set a hexadecimal string as a value</li>\r\n * <li>obj - to set a encapsulated ASN.1 value by JSON object\r\n * which is defined in {@link KJUR.asn1.ASN1Util.newObject}</li>\r\n * </ul>\r\n * NOTE: A parameter 'obj' have been supported\r\n * for \"OCTET STRING, encapsulates\" structure.\r\n * since asn1 1.0.11, jsrsasign 6.1.1 (2016-Sep-25).\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n * @example\r\n * // default constructor\r\n * o = new KJUR.asn1.DEROctetString();\r\n * // initialize with string\r\n * o = new KJUR.asn1.DEROctetString({str: \"aaa\"});\r\n * // initialize with hexadecimal string\r\n * o = new KJUR.asn1.DEROctetString({hex: \"616161\"});\r\n * // initialize with ASN1Util.newObject argument\r\n * o = new KJUR.asn1.DEROctetString({obj: {seq: [{int: 3}, {prnstr: 'aaa'}]}});\r\n * // above generates a ASN.1 data like this:\r\n * // OCTET STRING, encapsulates {\r\n * //   SEQUENCE {\r\n * //     INTEGER 3\r\n * //     PrintableString 'aaa'\r\n * //     }\r\n * //   }\r\n */\nKJUR.asn1.DEROctetString = function (params) {\n  if (params !== undefined && typeof params.obj !== \"undefined\") {\n    var o = KJUR.asn1.ASN1Util.newObject(params.obj);\n    params.hex = o.getEncodedHex();\n  }\n  KJUR.asn1.DEROctetString.superclass.constructor.call(this, params);\n  this.hT = \"04\";\n};\nYAHOO.lang.extend(KJUR.asn1.DEROctetString, KJUR.asn1.DERAbstractString);\n// ********************************************************************\n/**\r\n * class for ASN.1 DER Null\r\n * @name KJUR.asn1.DERNull\r\n * @class class for ASN.1 DER Null\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * @see KJUR.asn1.ASN1Object - superclass\r\n */\nKJUR.asn1.DERNull = function () {\n  KJUR.asn1.DERNull.superclass.constructor.call(this);\n  this.hT = \"05\";\n  this.hTLV = \"0500\";\n};\nYAHOO.lang.extend(KJUR.asn1.DERNull, KJUR.asn1.ASN1Object);\n// ********************************************************************\n/**\r\n * class for ASN.1 DER ObjectIdentifier\r\n * @name KJUR.asn1.DERObjectIdentifier\r\n * @class class for ASN.1 DER ObjectIdentifier\r\n * @param {Array} params associative array of parameters (ex. {'oid': '2.5.4.5'})\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>oid - specify initial ASN.1 value(V) by a oid string (ex. 2.5.4.13)</li>\r\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n */\nKJUR.asn1.DERObjectIdentifier = function (params) {\n  var itox = function (i) {\n    var h = i.toString(16);\n    if (h.length == 1) h = '0' + h;\n    return h;\n  };\n  var roidtox = function (roid) {\n    var h = '';\n    var bi = new BigInteger(roid, 10);\n    var b = bi.toString(2);\n    var padLen = 7 - b.length % 7;\n    if (padLen == 7) padLen = 0;\n    var bPad = '';\n    for (var i = 0; i < padLen; i++) bPad += '0';\n    b = bPad + b;\n    for (var i = 0; i < b.length - 1; i += 7) {\n      var b8 = b.substr(i, 7);\n      if (i != b.length - 7) b8 = '1' + b8;\n      h += itox(parseInt(b8, 2));\n    }\n    return h;\n  };\n  KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this);\n  this.hT = \"06\";\n  /**\r\n   * set value by a hexadecimal string\r\n   * @name setValueHex\r\n   * @memberOf KJUR.asn1.DERObjectIdentifier#\r\n   * @function\r\n   * @param {String} newHexString hexadecimal value of OID bytes\r\n   */\n  this.setValueHex = function (newHexString) {\n    this.hTLV = null;\n    this.isModified = true;\n    this.s = null;\n    this.hV = newHexString;\n  };\n  /**\r\n   * set value by a OID string<br/>\r\n   * @name setValueOidString\r\n   * @memberOf KJUR.asn1.DERObjectIdentifier#\r\n   * @function\r\n   * @param {String} oidString OID string (ex. 2.5.4.13)\r\n   * @example\r\n   * o = new KJUR.asn1.DERObjectIdentifier();\r\n   * o.setValueOidString(\"2.5.4.13\");\r\n   */\n  this.setValueOidString = function (oidString) {\n    if (!oidString.match(/^[0-9.]+$/)) {\n      throw \"malformed oid string: \" + oidString;\n    }\n    var h = '';\n    var a = oidString.split('.');\n    var i0 = parseInt(a[0]) * 40 + parseInt(a[1]);\n    h += itox(i0);\n    a.splice(0, 2);\n    for (var i = 0; i < a.length; i++) {\n      h += roidtox(a[i]);\n    }\n    this.hTLV = null;\n    this.isModified = true;\n    this.s = null;\n    this.hV = h;\n  };\n  /**\r\n   * set value by a OID name\r\n   * @name setValueName\r\n   * @memberOf KJUR.asn1.DERObjectIdentifier#\r\n   * @function\r\n   * @param {String} oidName OID name (ex. 'serverAuth')\r\n   * @since 1.0.1\r\n   * @description\r\n   * OID name shall be defined in 'KJUR.asn1.x509.OID.name2oidList'.\r\n   * Otherwise raise error.\r\n   * @example\r\n   * o = new KJUR.asn1.DERObjectIdentifier();\r\n   * o.setValueName(\"serverAuth\");\r\n   */\n  this.setValueName = function (oidName) {\n    var oid = KJUR.asn1.x509.OID.name2oid(oidName);\n    if (oid !== '') {\n      this.setValueOidString(oid);\n    } else {\n      throw \"DERObjectIdentifier oidName undefined: \" + oidName;\n    }\n  };\n  this.getFreshValueHex = function () {\n    return this.hV;\n  };\n  if (params !== undefined) {\n    if (typeof params === \"string\") {\n      if (params.match(/^[0-2].[0-9.]+$/)) {\n        this.setValueOidString(params);\n      } else {\n        this.setValueName(params);\n      }\n    } else if (params.oid !== undefined) {\n      this.setValueOidString(params.oid);\n    } else if (params.hex !== undefined) {\n      this.setValueHex(params.hex);\n    } else if (params.name !== undefined) {\n      this.setValueName(params.name);\n    }\n  }\n};\nYAHOO.lang.extend(KJUR.asn1.DERObjectIdentifier, KJUR.asn1.ASN1Object);\n// ********************************************************************\n/**\r\n * class for ASN.1 DER Enumerated\r\n * @name KJUR.asn1.DEREnumerated\r\n * @class class for ASN.1 DER Enumerated\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>int - specify initial ASN.1 value(V) by integer value</li>\r\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n * @example\r\n * new KJUR.asn1.DEREnumerated(123);\r\n * new KJUR.asn1.DEREnumerated({int: 123});\r\n * new KJUR.asn1.DEREnumerated({hex: '1fad'});\r\n */\nKJUR.asn1.DEREnumerated = function (params) {\n  KJUR.asn1.DEREnumerated.superclass.constructor.call(this);\n  this.hT = \"0a\";\n  /**\r\n   * set value by Tom Wu's BigInteger object\r\n   * @name setByBigInteger\r\n   * @memberOf KJUR.asn1.DEREnumerated#\r\n   * @function\r\n   * @param {BigInteger} bigIntegerValue to set\r\n   */\n  this.setByBigInteger = function (bigIntegerValue) {\n    this.hTLV = null;\n    this.isModified = true;\n    this.hV = KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(bigIntegerValue);\n  };\n  /**\r\n   * set value by integer value\r\n   * @name setByInteger\r\n   * @memberOf KJUR.asn1.DEREnumerated#\r\n   * @function\r\n   * @param {Integer} integer value to set\r\n   */\n  this.setByInteger = function (intValue) {\n    var bi = new BigInteger(String(intValue), 10);\n    this.setByBigInteger(bi);\n  };\n  /**\r\n   * set value by integer value\r\n   * @name setValueHex\r\n   * @memberOf KJUR.asn1.DEREnumerated#\r\n   * @function\r\n   * @param {String} hexadecimal string of integer value\r\n   * @description\r\n   * <br/>\r\n   * NOTE: Value shall be represented by minimum octet length of\r\n   * two's complement representation.\r\n   */\n  this.setValueHex = function (newHexString) {\n    this.hV = newHexString;\n  };\n  this.getFreshValueHex = function () {\n    return this.hV;\n  };\n  if (typeof params != \"undefined\") {\n    if (typeof params['int'] != \"undefined\") {\n      this.setByInteger(params['int']);\n    } else if (typeof params == \"number\") {\n      this.setByInteger(params);\n    } else if (typeof params['hex'] != \"undefined\") {\n      this.setValueHex(params['hex']);\n    }\n  }\n};\nYAHOO.lang.extend(KJUR.asn1.DEREnumerated, KJUR.asn1.ASN1Object);\n// ********************************************************************\n/**\r\n * class for ASN.1 DER UTF8String\r\n * @name KJUR.asn1.DERUTF8String\r\n * @class class for ASN.1 DER UTF8String\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n */\nKJUR.asn1.DERUTF8String = function (params) {\n  KJUR.asn1.DERUTF8String.superclass.constructor.call(this, params);\n  this.hT = \"0c\";\n};\nYAHOO.lang.extend(KJUR.asn1.DERUTF8String, KJUR.asn1.DERAbstractString);\n// ********************************************************************\n/**\r\n * class for ASN.1 DER NumericString\r\n * @name KJUR.asn1.DERNumericString\r\n * @class class for ASN.1 DER NumericString\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n */\nKJUR.asn1.DERNumericString = function (params) {\n  KJUR.asn1.DERNumericString.superclass.constructor.call(this, params);\n  this.hT = \"12\";\n};\nYAHOO.lang.extend(KJUR.asn1.DERNumericString, KJUR.asn1.DERAbstractString);\n// ********************************************************************\n/**\r\n * class for ASN.1 DER PrintableString\r\n * @name KJUR.asn1.DERPrintableString\r\n * @class class for ASN.1 DER PrintableString\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n */\nKJUR.asn1.DERPrintableString = function (params) {\n  KJUR.asn1.DERPrintableString.superclass.constructor.call(this, params);\n  this.hT = \"13\";\n};\nYAHOO.lang.extend(KJUR.asn1.DERPrintableString, KJUR.asn1.DERAbstractString);\n// ********************************************************************\n/**\r\n * class for ASN.1 DER TeletexString\r\n * @name KJUR.asn1.DERTeletexString\r\n * @class class for ASN.1 DER TeletexString\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n */\nKJUR.asn1.DERTeletexString = function (params) {\n  KJUR.asn1.DERTeletexString.superclass.constructor.call(this, params);\n  this.hT = \"14\";\n};\nYAHOO.lang.extend(KJUR.asn1.DERTeletexString, KJUR.asn1.DERAbstractString);\n// ********************************************************************\n/**\r\n * class for ASN.1 DER IA5String\r\n * @name KJUR.asn1.DERIA5String\r\n * @class class for ASN.1 DER IA5String\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n */\nKJUR.asn1.DERIA5String = function (params) {\n  KJUR.asn1.DERIA5String.superclass.constructor.call(this, params);\n  this.hT = \"16\";\n};\nYAHOO.lang.extend(KJUR.asn1.DERIA5String, KJUR.asn1.DERAbstractString);\n// ********************************************************************\n/**\r\n * class for ASN.1 DER UTCTime\r\n * @name KJUR.asn1.DERUTCTime\r\n * @class class for ASN.1 DER UTCTime\r\n * @param {Array} params associative array of parameters (ex. {'str': '130430235959Z'})\r\n * @extends KJUR.asn1.DERAbstractTime\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>str - specify initial ASN.1 value(V) by a string (ex.'130430235959Z')</li>\r\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n * <li>date - specify Date object.</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n * <h4>EXAMPLES</h4>\r\n * @example\r\n * d1 = new KJUR.asn1.DERUTCTime();\r\n * d1.setString('130430125959Z');\r\n *\r\n * d2 = new KJUR.asn1.DERUTCTime({'str': '130430125959Z'});\r\n * d3 = new KJUR.asn1.DERUTCTime({'date': new Date(Date.UTC(2015, 0, 31, 0, 0, 0, 0))});\r\n * d4 = new KJUR.asn1.DERUTCTime('130430125959Z');\r\n */\nKJUR.asn1.DERUTCTime = function (params) {\n  KJUR.asn1.DERUTCTime.superclass.constructor.call(this, params);\n  this.hT = \"17\";\n  /**\r\n   * set value by a Date object<br/>\r\n   * @name setByDate\r\n   * @memberOf KJUR.asn1.DERUTCTime#\r\n   * @function\r\n   * @param {Date} dateObject Date object to set ASN.1 value(V)\r\n   * @example\r\n   * o = new KJUR.asn1.DERUTCTime();\r\n   * o.setByDate(new Date(\"2016/12/31\"));\r\n   */\n  this.setByDate = function (dateObject) {\n    this.hTLV = null;\n    this.isModified = true;\n    this.date = dateObject;\n    this.s = this.formatDate(this.date, 'utc');\n    this.hV = stohex(this.s);\n  };\n  this.getFreshValueHex = function () {\n    if (typeof this.date == \"undefined\" && typeof this.s == \"undefined\") {\n      this.date = new Date();\n      this.s = this.formatDate(this.date, 'utc');\n      this.hV = stohex(this.s);\n    }\n    return this.hV;\n  };\n  if (params !== undefined) {\n    if (params.str !== undefined) {\n      this.setString(params.str);\n    } else if (typeof params == \"string\" && params.match(/^[0-9]{12}Z$/)) {\n      this.setString(params);\n    } else if (params.hex !== undefined) {\n      this.setStringHex(params.hex);\n    } else if (params.date !== undefined) {\n      this.setByDate(params.date);\n    }\n  }\n};\nYAHOO.lang.extend(KJUR.asn1.DERUTCTime, KJUR.asn1.DERAbstractTime);\n// ********************************************************************\n/**\r\n * class for ASN.1 DER GeneralizedTime\r\n * @name KJUR.asn1.DERGeneralizedTime\r\n * @class class for ASN.1 DER GeneralizedTime\r\n * @param {Array} params associative array of parameters (ex. {'str': '20130430235959Z'})\r\n * @property {Boolean} withMillis flag to show milliseconds or not\r\n * @extends KJUR.asn1.DERAbstractTime\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>str - specify initial ASN.1 value(V) by a string (ex.'20130430235959Z')</li>\r\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n * <li>date - specify Date object.</li>\r\n * <li>millis - specify flag to show milliseconds (from 1.0.6)</li>\r\n * </ul>\r\n * NOTE1: 'params' can be omitted.\r\n * NOTE2: 'withMillis' property is supported from asn1 1.0.6.\r\n */\nKJUR.asn1.DERGeneralizedTime = function (params) {\n  KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this, params);\n  this.hT = \"18\";\n  this.withMillis = false;\n  /**\r\n   * set value by a Date object\r\n   * @name setByDate\r\n   * @memberOf KJUR.asn1.DERGeneralizedTime#\r\n   * @function\r\n   * @param {Date} dateObject Date object to set ASN.1 value(V)\r\n   * @example\r\n   * When you specify UTC time, use 'Date.UTC' method like this:<br/>\r\n   * o1 = new DERUTCTime();\r\n   * o1.setByDate(date);\r\n   *\r\n   * date = new Date(Date.UTC(2015, 0, 31, 23, 59, 59, 0)); #2015JAN31 23:59:59\r\n   */\n  this.setByDate = function (dateObject) {\n    this.hTLV = null;\n    this.isModified = true;\n    this.date = dateObject;\n    this.s = this.formatDate(this.date, 'gen', this.withMillis);\n    this.hV = stohex(this.s);\n  };\n  this.getFreshValueHex = function () {\n    if (this.date === undefined && this.s === undefined) {\n      this.date = new Date();\n      this.s = this.formatDate(this.date, 'gen', this.withMillis);\n      this.hV = stohex(this.s);\n    }\n    return this.hV;\n  };\n  if (params !== undefined) {\n    if (params.str !== undefined) {\n      this.setString(params.str);\n    } else if (typeof params == \"string\" && params.match(/^[0-9]{14}Z$/)) {\n      this.setString(params);\n    } else if (params.hex !== undefined) {\n      this.setStringHex(params.hex);\n    } else if (params.date !== undefined) {\n      this.setByDate(params.date);\n    }\n    if (params.millis === true) {\n      this.withMillis = true;\n    }\n  }\n};\nYAHOO.lang.extend(KJUR.asn1.DERGeneralizedTime, KJUR.asn1.DERAbstractTime);\n// ********************************************************************\n/**\r\n * class for ASN.1 DER Sequence\r\n * @name KJUR.asn1.DERSequence\r\n * @class class for ASN.1 DER Sequence\r\n * @extends KJUR.asn1.DERAbstractStructured\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>array - specify array of ASN1Object to set elements of content</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n */\nKJUR.asn1.DERSequence = function (params) {\n  KJUR.asn1.DERSequence.superclass.constructor.call(this, params);\n  this.hT = \"30\";\n  this.getFreshValueHex = function () {\n    var h = '';\n    for (var i = 0; i < this.asn1Array.length; i++) {\n      var asn1Obj = this.asn1Array[i];\n      h += asn1Obj.getEncodedHex();\n    }\n    this.hV = h;\n    return this.hV;\n  };\n};\nYAHOO.lang.extend(KJUR.asn1.DERSequence, KJUR.asn1.DERAbstractStructured);\n// ********************************************************************\n/**\r\n * class for ASN.1 DER Set\r\n * @name KJUR.asn1.DERSet\r\n * @class class for ASN.1 DER Set\r\n * @extends KJUR.asn1.DERAbstractStructured\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>array - specify array of ASN1Object to set elements of content</li>\r\n * <li>sortflag - flag for sort (default: true). ASN.1 BER is not sorted in 'SET OF'.</li>\r\n * </ul>\r\n * NOTE1: 'params' can be omitted.<br/>\r\n * NOTE2: sortflag is supported since 1.0.5.\r\n */\nKJUR.asn1.DERSet = function (params) {\n  KJUR.asn1.DERSet.superclass.constructor.call(this, params);\n  this.hT = \"31\";\n  this.sortFlag = true; // item shall be sorted only in ASN.1 DER\n  this.getFreshValueHex = function () {\n    var a = new Array();\n    for (var i = 0; i < this.asn1Array.length; i++) {\n      var asn1Obj = this.asn1Array[i];\n      a.push(asn1Obj.getEncodedHex());\n    }\n    if (this.sortFlag == true) a.sort();\n    this.hV = a.join('');\n    return this.hV;\n  };\n  if (typeof params != \"undefined\") {\n    if (typeof params.sortflag != \"undefined\" && params.sortflag == false) this.sortFlag = false;\n  }\n};\nYAHOO.lang.extend(KJUR.asn1.DERSet, KJUR.asn1.DERAbstractStructured);\n// ********************************************************************\n/**\r\n * class for ASN.1 DER TaggedObject\r\n * @name KJUR.asn1.DERTaggedObject\r\n * @class class for ASN.1 DER TaggedObject\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * <br/>\r\n * Parameter 'tagNoNex' is ASN.1 tag(T) value for this object.\r\n * For example, if you find '[1]' tag in a ASN.1 dump,\r\n * 'tagNoHex' will be 'a1'.\r\n * <br/>\r\n * As for optional argument 'params' for constructor, you can specify *ANY* of\r\n * following properties:\r\n * <ul>\r\n * <li>explicit - specify true if this is explicit tag otherwise false\r\n *     (default is 'true').</li>\r\n * <li>tag - specify tag (default is 'a0' which means [0])</li>\r\n * <li>obj - specify ASN1Object which is tagged</li>\r\n * </ul>\r\n * @example\r\n * d1 = new KJUR.asn1.DERUTF8String({'str':'a'});\r\n * d2 = new KJUR.asn1.DERTaggedObject({'obj': d1});\r\n * hex = d2.getEncodedHex();\r\n */\nKJUR.asn1.DERTaggedObject = function (params) {\n  KJUR.asn1.DERTaggedObject.superclass.constructor.call(this);\n  this.hT = \"a0\";\n  this.hV = '';\n  this.isExplicit = true;\n  this.asn1Object = null;\n  /**\r\n   * set value by an ASN1Object\r\n   * @name setString\r\n   * @memberOf KJUR.asn1.DERTaggedObject#\r\n   * @function\r\n   * @param {Boolean} isExplicitFlag flag for explicit/implicit tag\r\n   * @param {Integer} tagNoHex hexadecimal string of ASN.1 tag\r\n   * @param {ASN1Object} asn1Object ASN.1 to encapsulate\r\n   */\n  this.setASN1Object = function (isExplicitFlag, tagNoHex, asn1Object) {\n    this.hT = tagNoHex;\n    this.isExplicit = isExplicitFlag;\n    this.asn1Object = asn1Object;\n    if (this.isExplicit) {\n      this.hV = this.asn1Object.getEncodedHex();\n      this.hTLV = null;\n      this.isModified = true;\n    } else {\n      this.hV = null;\n      this.hTLV = asn1Object.getEncodedHex();\n      this.hTLV = this.hTLV.replace(/^../, tagNoHex);\n      this.isModified = false;\n    }\n  };\n  this.getFreshValueHex = function () {\n    return this.hV;\n  };\n  if (typeof params != \"undefined\") {\n    if (typeof params['tag'] != \"undefined\") {\n      this.hT = params['tag'];\n    }\n    if (typeof params['explicit'] != \"undefined\") {\n      this.isExplicit = params['explicit'];\n    }\n    if (typeof params['obj'] != \"undefined\") {\n      this.asn1Object = params['obj'];\n      this.setASN1Object(this.isExplicit, this.hT, this.asn1Object);\n    }\n  }\n};\nYAHOO.lang.extend(KJUR.asn1.DERTaggedObject, KJUR.asn1.ASN1Object);","map":{"version":3,"names":["BigInteger","YAHOO","KJUR","asn1","ASN1Util","integerToByteHex","i","h","toString","length","bigIntToMinTwosComplementsHex","bigIntegerValue","substr","match","hPos","xorLen","hMask","biMask","biNeg","xor","add","ONE","replace","getPEMStringFromHex","dataHex","pemHeader","hextopem","newObject","param","_KJUR","_KJUR_asn1","_DERBoolean","DERBoolean","_DERInteger","DERInteger","_DERBitString","DERBitString","_DEROctetString","DEROctetString","_DERNull","DERNull","_DERObjectIdentifier","DERObjectIdentifier","_DEREnumerated","DEREnumerated","_DERUTF8String","DERUTF8String","_DERNumericString","DERNumericString","_DERPrintableString","DERPrintableString","_DERTeletexString","DERTeletexString","_DERIA5String","DERIA5String","_DERUTCTime","DERUTCTime","_DERGeneralizedTime","DERGeneralizedTime","_DERSequence","DERSequence","_DERSet","DERSet","_DERTaggedObject","DERTaggedObject","_newObject","keys","Object","key","indexOf","paramList","a","asn1Obj","push","tagParam","prototype","call","obj","tag","explicit","newParam","undefined","jsonToASN1HEX","getEncodedHex","oidHexToInt","hex","s","i01","parseInt","i0","Math","floor","i1","binbuf","value","bin","slice","bi","oidIntToHex","oidString","itox","roidtox","roid","b","padLen","bPad","b8","split","splice","ASN1Object","isModified","hTLV","hT","hL","hV","getLengthHexFromValue","n","hN","hNlen","head","getFreshValueHex","getValueHex","DERAbstractString","params","superclass","constructor","getString","setString","newS","stohex","setStringHex","newHexString","lang","extend","DERAbstractTime","date","localDateToUTC","d","utc","getTime","getTimezoneOffset","utcDate","Date","formatDate","dateObject","type","withMillis","pad","zeroPadding","year","String","getFullYear","month","getMonth","day","getDate","hour","getHours","min","getMinutes","sec","getSeconds","millis","getMilliseconds","sMillis","len","Array","join","setByDateValue","UTC","setByDate","DERAbstractStructured","asn1Array","setByASN1ObjectArray","asn1ObjectArray","appendASN1Object","asn1Object","setByBigInteger","setByInteger","intValue","setValueHex","o","setHexValueIncludingUnusedBits","newHexStringIncludingUnusedBits","setUnusedBitsAndHexValue","unusedBits","hValue","hUnusedBits","setByBinaryString","binaryString","x","setByBooleanArray","booleanArray","newFalseArray","nLength","toLowerCase","setValueOidString","setValueName","oidName","oid","x509","OID","name2oid","name","str","sortFlag","sort","sortflag","isExplicit","setASN1Object","isExplicitFlag","tagNoHex"],"sources":["C:/Users/User/Downloads//frontend/node_modules/jsencrypt/lib/lib/jsrsasign/asn1-1.0.js"],"sourcesContent":["/* asn1-1.0.13.js (c) 2013-2017 Kenji Urushima | kjur.github.com/jsrsasign/license\r\n */\r\n/*\r\n * asn1.js - ASN.1 DER encoder classes\r\n *\r\n * Copyright (c) 2013-2017 Kenji Urushima (kenji.urushima@gmail.com)\r\n *\r\n * This software is licensed under the terms of the MIT License.\r\n * https://kjur.github.io/jsrsasign/license\r\n *\r\n * The above copyright and license notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n */\r\nimport { BigInteger } from \"../jsbn/jsbn\";\r\nimport { YAHOO } from \"./yahoo\";\r\n/**\r\n * @fileOverview\r\n * @name asn1-1.0.js\r\n * @author Kenji Urushima kenji.urushima@gmail.com\r\n * @version asn1 1.0.13 (2017-Jun-02)\r\n * @since jsrsasign 2.1\r\n * @license <a href=\"https://kjur.github.io/jsrsasign/license/\">MIT License</a>\r\n */\r\n/**\r\n * kjur's class library name space\r\n * <p>\r\n * This name space provides following name spaces:\r\n * <ul>\r\n * <li>{@link KJUR.asn1} - ASN.1 primitive hexadecimal encoder</li>\r\n * <li>{@link KJUR.asn1.x509} - ASN.1 structure for X.509 certificate and CRL</li>\r\n * <li>{@link KJUR.crypto} - Java Cryptographic Extension(JCE) style MessageDigest/Signature\r\n * class and utilities</li>\r\n * </ul>\r\n * </p>\r\n * NOTE: Please ignore method summary and document of this namespace. This caused by a bug of jsdoc2.\r\n * @name KJUR\r\n * @namespace kjur's class library name space\r\n */\r\nexport var KJUR = {};\r\n/**\r\n * kjur's ASN.1 class library name space\r\n * <p>\r\n * This is ITU-T X.690 ASN.1 DER encoder class library and\r\n * class structure and methods is very similar to\r\n * org.bouncycastle.asn1 package of\r\n * well known BouncyCaslte Cryptography Library.\r\n * <h4>PROVIDING ASN.1 PRIMITIVES</h4>\r\n * Here are ASN.1 DER primitive classes.\r\n * <ul>\r\n * <li>0x01 {@link KJUR.asn1.DERBoolean}</li>\r\n * <li>0x02 {@link KJUR.asn1.DERInteger}</li>\r\n * <li>0x03 {@link KJUR.asn1.DERBitString}</li>\r\n * <li>0x04 {@link KJUR.asn1.DEROctetString}</li>\r\n * <li>0x05 {@link KJUR.asn1.DERNull}</li>\r\n * <li>0x06 {@link KJUR.asn1.DERObjectIdentifier}</li>\r\n * <li>0x0a {@link KJUR.asn1.DEREnumerated}</li>\r\n * <li>0x0c {@link KJUR.asn1.DERUTF8String}</li>\r\n * <li>0x12 {@link KJUR.asn1.DERNumericString}</li>\r\n * <li>0x13 {@link KJUR.asn1.DERPrintableString}</li>\r\n * <li>0x14 {@link KJUR.asn1.DERTeletexString}</li>\r\n * <li>0x16 {@link KJUR.asn1.DERIA5String}</li>\r\n * <li>0x17 {@link KJUR.asn1.DERUTCTime}</li>\r\n * <li>0x18 {@link KJUR.asn1.DERGeneralizedTime}</li>\r\n * <li>0x30 {@link KJUR.asn1.DERSequence}</li>\r\n * <li>0x31 {@link KJUR.asn1.DERSet}</li>\r\n * </ul>\r\n * <h4>OTHER ASN.1 CLASSES</h4>\r\n * <ul>\r\n * <li>{@link KJUR.asn1.ASN1Object}</li>\r\n * <li>{@link KJUR.asn1.DERAbstractString}</li>\r\n * <li>{@link KJUR.asn1.DERAbstractTime}</li>\r\n * <li>{@link KJUR.asn1.DERAbstractStructured}</li>\r\n * <li>{@link KJUR.asn1.DERTaggedObject}</li>\r\n * </ul>\r\n * <h4>SUB NAME SPACES</h4>\r\n * <ul>\r\n * <li>{@link KJUR.asn1.cades} - CAdES long term signature format</li>\r\n * <li>{@link KJUR.asn1.cms} - Cryptographic Message Syntax</li>\r\n * <li>{@link KJUR.asn1.csr} - Certificate Signing Request (CSR/PKCS#10)</li>\r\n * <li>{@link KJUR.asn1.tsp} - RFC 3161 Timestamping Protocol Format</li>\r\n * <li>{@link KJUR.asn1.x509} - RFC 5280 X.509 certificate and CRL</li>\r\n * </ul>\r\n * </p>\r\n * NOTE: Please ignore method summary and document of this namespace.\r\n * This caused by a bug of jsdoc2.\r\n * @name KJUR.asn1\r\n * @namespace\r\n */\r\nif (typeof KJUR.asn1 == \"undefined\" || !KJUR.asn1)\r\n    KJUR.asn1 = {};\r\n/**\r\n * ASN1 utilities class\r\n * @name KJUR.asn1.ASN1Util\r\n * @class ASN1 utilities class\r\n * @since asn1 1.0.2\r\n */\r\nKJUR.asn1.ASN1Util = new function () {\r\n    this.integerToByteHex = function (i) {\r\n        var h = i.toString(16);\r\n        if ((h.length % 2) == 1)\r\n            h = '0' + h;\r\n        return h;\r\n    };\r\n    this.bigIntToMinTwosComplementsHex = function (bigIntegerValue) {\r\n        var h = bigIntegerValue.toString(16);\r\n        if (h.substr(0, 1) != '-') {\r\n            if (h.length % 2 == 1) {\r\n                h = '0' + h;\r\n            }\r\n            else {\r\n                if (!h.match(/^[0-7]/)) {\r\n                    h = '00' + h;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            var hPos = h.substr(1);\r\n            var xorLen = hPos.length;\r\n            if (xorLen % 2 == 1) {\r\n                xorLen += 1;\r\n            }\r\n            else {\r\n                if (!h.match(/^[0-7]/)) {\r\n                    xorLen += 2;\r\n                }\r\n            }\r\n            var hMask = '';\r\n            for (var i = 0; i < xorLen; i++) {\r\n                hMask += 'f';\r\n            }\r\n            var biMask = new BigInteger(hMask, 16);\r\n            var biNeg = biMask.xor(bigIntegerValue).add(BigInteger.ONE);\r\n            h = biNeg.toString(16).replace(/^-/, '');\r\n        }\r\n        return h;\r\n    };\r\n    /**\r\n     * get PEM string from hexadecimal data and header string\r\n     * @name getPEMStringFromHex\r\n     * @memberOf KJUR.asn1.ASN1Util\r\n     * @function\r\n     * @param {String} dataHex hexadecimal string of PEM body\r\n     * @param {String} pemHeader PEM header string (ex. 'RSA PRIVATE KEY')\r\n     * @return {String} PEM formatted string of input data\r\n     * @description\r\n     * This method converts a hexadecimal string to a PEM string with\r\n     * a specified header. Its line break will be CRLF(\"\\r\\n\").\r\n     * @example\r\n     * var pem  = KJUR.asn1.ASN1Util.getPEMStringFromHex('616161', 'RSA PRIVATE KEY');\r\n     * // value of pem will be:\r\n     * -----BEGIN PRIVATE KEY-----\r\n     * YWFh\r\n     * -----END PRIVATE KEY-----\r\n     */\r\n    this.getPEMStringFromHex = function (dataHex, pemHeader) {\r\n        return hextopem(dataHex, pemHeader);\r\n    };\r\n    /**\r\n     * generate ASN1Object specifed by JSON parameters\r\n     * @name newObject\r\n     * @memberOf KJUR.asn1.ASN1Util\r\n     * @function\r\n     * @param {Array} param JSON parameter to generate ASN1Object\r\n     * @return {KJUR.asn1.ASN1Object} generated object\r\n     * @since asn1 1.0.3\r\n     * @description\r\n     * generate any ASN1Object specified by JSON param\r\n     * including ASN.1 primitive or structured.\r\n     * Generally 'param' can be described as follows:\r\n     * <blockquote>\r\n     * {TYPE-OF-ASNOBJ: ASN1OBJ-PARAMETER}\r\n     * </blockquote>\r\n     * 'TYPE-OF-ASN1OBJ' can be one of following symbols:\r\n     * <ul>\r\n     * <li>'bool' - DERBoolean</li>\r\n     * <li>'int' - DERInteger</li>\r\n     * <li>'bitstr' - DERBitString</li>\r\n     * <li>'octstr' - DEROctetString</li>\r\n     * <li>'null' - DERNull</li>\r\n     * <li>'oid' - DERObjectIdentifier</li>\r\n     * <li>'enum' - DEREnumerated</li>\r\n     * <li>'utf8str' - DERUTF8String</li>\r\n     * <li>'numstr' - DERNumericString</li>\r\n     * <li>'prnstr' - DERPrintableString</li>\r\n     * <li>'telstr' - DERTeletexString</li>\r\n     * <li>'ia5str' - DERIA5String</li>\r\n     * <li>'utctime' - DERUTCTime</li>\r\n     * <li>'gentime' - DERGeneralizedTime</li>\r\n     * <li>'seq' - DERSequence</li>\r\n     * <li>'set' - DERSet</li>\r\n     * <li>'tag' - DERTaggedObject</li>\r\n     * </ul>\r\n     * @example\r\n     * newObject({'prnstr': 'aaa'});\r\n     * newObject({'seq': [{'int': 3}, {'prnstr': 'aaa'}]})\r\n     * // ASN.1 Tagged Object\r\n     * newObject({'tag': {'tag': 'a1',\r\n     *                    'explicit': true,\r\n     *                    'obj': {'seq': [{'int': 3}, {'prnstr': 'aaa'}]}}});\r\n     * // more simple representation of ASN.1 Tagged Object\r\n     * newObject({'tag': ['a1',\r\n     *                    true,\r\n     *                    {'seq': [\r\n     *                      {'int': 3},\r\n     *                      {'prnstr': 'aaa'}]}\r\n     *                   ]});\r\n     */\r\n    this.newObject = function (param) {\r\n        var _KJUR = KJUR, _KJUR_asn1 = _KJUR.asn1, _DERBoolean = _KJUR_asn1.DERBoolean, _DERInteger = _KJUR_asn1.DERInteger, _DERBitString = _KJUR_asn1.DERBitString, _DEROctetString = _KJUR_asn1.DEROctetString, _DERNull = _KJUR_asn1.DERNull, _DERObjectIdentifier = _KJUR_asn1.DERObjectIdentifier, _DEREnumerated = _KJUR_asn1.DEREnumerated, _DERUTF8String = _KJUR_asn1.DERUTF8String, _DERNumericString = _KJUR_asn1.DERNumericString, _DERPrintableString = _KJUR_asn1.DERPrintableString, _DERTeletexString = _KJUR_asn1.DERTeletexString, _DERIA5String = _KJUR_asn1.DERIA5String, _DERUTCTime = _KJUR_asn1.DERUTCTime, _DERGeneralizedTime = _KJUR_asn1.DERGeneralizedTime, _DERSequence = _KJUR_asn1.DERSequence, _DERSet = _KJUR_asn1.DERSet, _DERTaggedObject = _KJUR_asn1.DERTaggedObject, _newObject = _KJUR_asn1.ASN1Util.newObject;\r\n        var keys = Object.keys(param);\r\n        if (keys.length != 1)\r\n            throw \"key of param shall be only one.\";\r\n        var key = keys[0];\r\n        if (\":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:\".indexOf(\":\" + key + \":\") == -1)\r\n            throw \"undefined key: \" + key;\r\n        if (key == \"bool\")\r\n            return new _DERBoolean(param[key]);\r\n        if (key == \"int\")\r\n            return new _DERInteger(param[key]);\r\n        if (key == \"bitstr\")\r\n            return new _DERBitString(param[key]);\r\n        if (key == \"octstr\")\r\n            return new _DEROctetString(param[key]);\r\n        if (key == \"null\")\r\n            return new _DERNull(param[key]);\r\n        if (key == \"oid\")\r\n            return new _DERObjectIdentifier(param[key]);\r\n        if (key == \"enum\")\r\n            return new _DEREnumerated(param[key]);\r\n        if (key == \"utf8str\")\r\n            return new _DERUTF8String(param[key]);\r\n        if (key == \"numstr\")\r\n            return new _DERNumericString(param[key]);\r\n        if (key == \"prnstr\")\r\n            return new _DERPrintableString(param[key]);\r\n        if (key == \"telstr\")\r\n            return new _DERTeletexString(param[key]);\r\n        if (key == \"ia5str\")\r\n            return new _DERIA5String(param[key]);\r\n        if (key == \"utctime\")\r\n            return new _DERUTCTime(param[key]);\r\n        if (key == \"gentime\")\r\n            return new _DERGeneralizedTime(param[key]);\r\n        if (key == \"seq\") {\r\n            var paramList = param[key];\r\n            var a = [];\r\n            for (var i = 0; i < paramList.length; i++) {\r\n                var asn1Obj = _newObject(paramList[i]);\r\n                a.push(asn1Obj);\r\n            }\r\n            return new _DERSequence({ 'array': a });\r\n        }\r\n        if (key == \"set\") {\r\n            var paramList = param[key];\r\n            var a = [];\r\n            for (var i = 0; i < paramList.length; i++) {\r\n                var asn1Obj = _newObject(paramList[i]);\r\n                a.push(asn1Obj);\r\n            }\r\n            return new _DERSet({ 'array': a });\r\n        }\r\n        if (key == \"tag\") {\r\n            var tagParam = param[key];\r\n            if (Object.prototype.toString.call(tagParam) === '[object Array]' &&\r\n                tagParam.length == 3) {\r\n                var obj = _newObject(tagParam[2]);\r\n                return new _DERTaggedObject({ tag: tagParam[0],\r\n                    explicit: tagParam[1],\r\n                    obj: obj });\r\n            }\r\n            else {\r\n                var newParam = {};\r\n                if (tagParam.explicit !== undefined)\r\n                    newParam.explicit = tagParam.explicit;\r\n                if (tagParam.tag !== undefined)\r\n                    newParam.tag = tagParam.tag;\r\n                if (tagParam.obj === undefined)\r\n                    throw \"obj shall be specified for 'tag'.\";\r\n                newParam.obj = _newObject(tagParam.obj);\r\n                return new _DERTaggedObject(newParam);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * get encoded hexadecimal string of ASN1Object specifed by JSON parameters\r\n     * @name jsonToASN1HEX\r\n     * @memberOf KJUR.asn1.ASN1Util\r\n     * @function\r\n     * @param {Array} param JSON parameter to generate ASN1Object\r\n     * @return hexadecimal string of ASN1Object\r\n     * @since asn1 1.0.4\r\n     * @description\r\n     * As for ASN.1 object representation of JSON object,\r\n     * please see {@link newObject}.\r\n     * @example\r\n     * jsonToASN1HEX({'prnstr': 'aaa'});\r\n     */\r\n    this.jsonToASN1HEX = function (param) {\r\n        var asn1Obj = this.newObject(param);\r\n        return asn1Obj.getEncodedHex();\r\n    };\r\n};\r\n/**\r\n * get dot noted oid number string from hexadecimal value of OID\r\n * @name oidHexToInt\r\n * @memberOf KJUR.asn1.ASN1Util\r\n * @function\r\n * @param {String} hex hexadecimal value of object identifier\r\n * @return {String} dot noted string of object identifier\r\n * @since jsrsasign 4.8.3 asn1 1.0.7\r\n * @description\r\n * This static method converts from hexadecimal string representation of\r\n * ASN.1 value of object identifier to oid number string.\r\n * @example\r\n * KJUR.asn1.ASN1Util.oidHexToInt('550406') &rarr; \"2.5.4.6\"\r\n */\r\nKJUR.asn1.ASN1Util.oidHexToInt = function (hex) {\r\n    var s = \"\";\r\n    var i01 = parseInt(hex.substr(0, 2), 16);\r\n    var i0 = Math.floor(i01 / 40);\r\n    var i1 = i01 % 40;\r\n    var s = i0 + \".\" + i1;\r\n    var binbuf = \"\";\r\n    for (var i = 2; i < hex.length; i += 2) {\r\n        var value = parseInt(hex.substr(i, 2), 16);\r\n        var bin = (\"00000000\" + value.toString(2)).slice(-8);\r\n        binbuf = binbuf + bin.substr(1, 7);\r\n        if (bin.substr(0, 1) == \"0\") {\r\n            var bi = new BigInteger(binbuf, 2);\r\n            s = s + \".\" + bi.toString(10);\r\n            binbuf = \"\";\r\n        }\r\n    }\r\n    ;\r\n    return s;\r\n};\r\n/**\r\n * get hexadecimal value of object identifier from dot noted oid value\r\n * @name oidIntToHex\r\n * @memberOf KJUR.asn1.ASN1Util\r\n * @function\r\n * @param {String} oidString dot noted string of object identifier\r\n * @return {String} hexadecimal value of object identifier\r\n * @since jsrsasign 4.8.3 asn1 1.0.7\r\n * @description\r\n * This static method converts from object identifier value string.\r\n * to hexadecimal string representation of it.\r\n * @example\r\n * KJUR.asn1.ASN1Util.oidIntToHex(\"2.5.4.6\") &rarr; \"550406\"\r\n */\r\nKJUR.asn1.ASN1Util.oidIntToHex = function (oidString) {\r\n    var itox = function (i) {\r\n        var h = i.toString(16);\r\n        if (h.length == 1)\r\n            h = '0' + h;\r\n        return h;\r\n    };\r\n    var roidtox = function (roid) {\r\n        var h = '';\r\n        var bi = new BigInteger(roid, 10);\r\n        var b = bi.toString(2);\r\n        var padLen = 7 - b.length % 7;\r\n        if (padLen == 7)\r\n            padLen = 0;\r\n        var bPad = '';\r\n        for (var i = 0; i < padLen; i++)\r\n            bPad += '0';\r\n        b = bPad + b;\r\n        for (var i = 0; i < b.length - 1; i += 7) {\r\n            var b8 = b.substr(i, 7);\r\n            if (i != b.length - 7)\r\n                b8 = '1' + b8;\r\n            h += itox(parseInt(b8, 2));\r\n        }\r\n        return h;\r\n    };\r\n    if (!oidString.match(/^[0-9.]+$/)) {\r\n        throw \"malformed oid string: \" + oidString;\r\n    }\r\n    var h = '';\r\n    var a = oidString.split('.');\r\n    var i0 = parseInt(a[0]) * 40 + parseInt(a[1]);\r\n    h += itox(i0);\r\n    a.splice(0, 2);\r\n    for (var i = 0; i < a.length; i++) {\r\n        h += roidtox(a[i]);\r\n    }\r\n    return h;\r\n};\r\n// ********************************************************************\r\n//  Abstract ASN.1 Classes\r\n// ********************************************************************\r\n// ********************************************************************\r\n/**\r\n * base class for ASN.1 DER encoder object\r\n * @name KJUR.asn1.ASN1Object\r\n * @class base class for ASN.1 DER encoder object\r\n * @property {Boolean} isModified flag whether internal data was changed\r\n * @property {String} hTLV hexadecimal string of ASN.1 TLV\r\n * @property {String} hT hexadecimal string of ASN.1 TLV tag(T)\r\n * @property {String} hL hexadecimal string of ASN.1 TLV length(L)\r\n * @property {String} hV hexadecimal string of ASN.1 TLV value(V)\r\n * @description\r\n */\r\nKJUR.asn1.ASN1Object = function () {\r\n    var isModified = true;\r\n    var hTLV = null;\r\n    var hT = '00';\r\n    var hL = '00';\r\n    var hV = '';\r\n    /**\r\n     * get hexadecimal ASN.1 TLV length(L) bytes from TLV value(V)\r\n     * @name getLengthHexFromValue\r\n     * @memberOf KJUR.asn1.ASN1Object#\r\n     * @function\r\n     * @return {String} hexadecimal string of ASN.1 TLV length(L)\r\n     */\r\n    this.getLengthHexFromValue = function () {\r\n        if (typeof this.hV == \"undefined\" || this.hV == null) {\r\n            throw \"this.hV is null or undefined.\";\r\n        }\r\n        if (this.hV.length % 2 == 1) {\r\n            throw \"value hex must be even length: n=\" + hV.length + \",v=\" + this.hV;\r\n        }\r\n        var n = this.hV.length / 2;\r\n        var hN = n.toString(16);\r\n        if (hN.length % 2 == 1) {\r\n            hN = \"0\" + hN;\r\n        }\r\n        if (n < 128) {\r\n            return hN;\r\n        }\r\n        else {\r\n            var hNlen = hN.length / 2;\r\n            if (hNlen > 15) {\r\n                throw \"ASN.1 length too long to represent by 8x: n = \" + n.toString(16);\r\n            }\r\n            var head = 128 + hNlen;\r\n            return head.toString(16) + hN;\r\n        }\r\n    };\r\n    /**\r\n     * get hexadecimal string of ASN.1 TLV bytes\r\n     * @name getEncodedHex\r\n     * @memberOf KJUR.asn1.ASN1Object#\r\n     * @function\r\n     * @return {String} hexadecimal string of ASN.1 TLV\r\n     */\r\n    this.getEncodedHex = function () {\r\n        if (this.hTLV == null || this.isModified) {\r\n            this.hV = this.getFreshValueHex();\r\n            this.hL = this.getLengthHexFromValue();\r\n            this.hTLV = this.hT + this.hL + this.hV;\r\n            this.isModified = false;\r\n            //alert(\"first time: \" + this.hTLV);\r\n        }\r\n        return this.hTLV;\r\n    };\r\n    /**\r\n     * get hexadecimal string of ASN.1 TLV value(V) bytes\r\n     * @name getValueHex\r\n     * @memberOf KJUR.asn1.ASN1Object#\r\n     * @function\r\n     * @return {String} hexadecimal string of ASN.1 TLV value(V) bytes\r\n     */\r\n    this.getValueHex = function () {\r\n        this.getEncodedHex();\r\n        return this.hV;\r\n    };\r\n    this.getFreshValueHex = function () {\r\n        return '';\r\n    };\r\n};\r\n// == BEGIN DERAbstractString ================================================\r\n/**\r\n * base class for ASN.1 DER string classes\r\n * @name KJUR.asn1.DERAbstractString\r\n * @class base class for ASN.1 DER string classes\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @property {String} s internal string of value\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>str - specify initial ASN.1 value(V) by a string</li>\r\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n */\r\nKJUR.asn1.DERAbstractString = function (params) {\r\n    KJUR.asn1.DERAbstractString.superclass.constructor.call(this);\r\n    var s = null;\r\n    var hV = null;\r\n    /**\r\n     * get string value of this string object\r\n     * @name getString\r\n     * @memberOf KJUR.asn1.DERAbstractString#\r\n     * @function\r\n     * @return {String} string value of this string object\r\n     */\r\n    this.getString = function () {\r\n        return this.s;\r\n    };\r\n    /**\r\n     * set value by a string\r\n     * @name setString\r\n     * @memberOf KJUR.asn1.DERAbstractString#\r\n     * @function\r\n     * @param {String} newS value by a string to set\r\n     */\r\n    this.setString = function (newS) {\r\n        this.hTLV = null;\r\n        this.isModified = true;\r\n        this.s = newS;\r\n        this.hV = stohex(this.s);\r\n    };\r\n    /**\r\n     * set value by a hexadecimal string\r\n     * @name setStringHex\r\n     * @memberOf KJUR.asn1.DERAbstractString#\r\n     * @function\r\n     * @param {String} newHexString value by a hexadecimal string to set\r\n     */\r\n    this.setStringHex = function (newHexString) {\r\n        this.hTLV = null;\r\n        this.isModified = true;\r\n        this.s = null;\r\n        this.hV = newHexString;\r\n    };\r\n    this.getFreshValueHex = function () {\r\n        return this.hV;\r\n    };\r\n    if (typeof params != \"undefined\") {\r\n        if (typeof params == \"string\") {\r\n            this.setString(params);\r\n        }\r\n        else if (typeof params['str'] != \"undefined\") {\r\n            this.setString(params['str']);\r\n        }\r\n        else if (typeof params['hex'] != \"undefined\") {\r\n            this.setStringHex(params['hex']);\r\n        }\r\n    }\r\n};\r\nYAHOO.lang.extend(KJUR.asn1.DERAbstractString, KJUR.asn1.ASN1Object);\r\n// == END   DERAbstractString ================================================\r\n// == BEGIN DERAbstractTime ==================================================\r\n/**\r\n * base class for ASN.1 DER Generalized/UTCTime class\r\n * @name KJUR.asn1.DERAbstractTime\r\n * @class base class for ASN.1 DER Generalized/UTCTime class\r\n * @param {Array} params associative array of parameters (ex. {'str': '130430235959Z'})\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * @see KJUR.asn1.ASN1Object - superclass\r\n */\r\nKJUR.asn1.DERAbstractTime = function (params) {\r\n    KJUR.asn1.DERAbstractTime.superclass.constructor.call(this);\r\n    var s = null;\r\n    var date = null;\r\n    // --- PRIVATE METHODS --------------------\r\n    this.localDateToUTC = function (d) {\r\n        utc = d.getTime() + (d.getTimezoneOffset() * 60000);\r\n        var utcDate = new Date(utc);\r\n        return utcDate;\r\n    };\r\n    /*\r\n     * format date string by Data object\r\n     * @name formatDate\r\n     * @memberOf KJUR.asn1.AbstractTime;\r\n     * @param {Date} dateObject\r\n     * @param {string} type 'utc' or 'gen'\r\n     * @param {boolean} withMillis flag for with millisections or not\r\n     * @description\r\n     * 'withMillis' flag is supported from asn1 1.0.6.\r\n     */\r\n    this.formatDate = function (dateObject, type, withMillis) {\r\n        var pad = this.zeroPadding;\r\n        var d = this.localDateToUTC(dateObject);\r\n        var year = String(d.getFullYear());\r\n        if (type == 'utc')\r\n            year = year.substr(2, 2);\r\n        var month = pad(String(d.getMonth() + 1), 2);\r\n        var day = pad(String(d.getDate()), 2);\r\n        var hour = pad(String(d.getHours()), 2);\r\n        var min = pad(String(d.getMinutes()), 2);\r\n        var sec = pad(String(d.getSeconds()), 2);\r\n        var s = year + month + day + hour + min + sec;\r\n        if (withMillis === true) {\r\n            var millis = d.getMilliseconds();\r\n            if (millis != 0) {\r\n                var sMillis = pad(String(millis), 3);\r\n                sMillis = sMillis.replace(/[0]+$/, \"\");\r\n                s = s + \".\" + sMillis;\r\n            }\r\n        }\r\n        return s + \"Z\";\r\n    };\r\n    this.zeroPadding = function (s, len) {\r\n        if (s.length >= len)\r\n            return s;\r\n        return new Array(len - s.length + 1).join('0') + s;\r\n    };\r\n    // --- PUBLIC METHODS --------------------\r\n    /**\r\n     * get string value of this string object\r\n     * @name getString\r\n     * @memberOf KJUR.asn1.DERAbstractTime#\r\n     * @function\r\n     * @return {String} string value of this time object\r\n     */\r\n    this.getString = function () {\r\n        return this.s;\r\n    };\r\n    /**\r\n     * set value by a string\r\n     * @name setString\r\n     * @memberOf KJUR.asn1.DERAbstractTime#\r\n     * @function\r\n     * @param {String} newS value by a string to set such like \"130430235959Z\"\r\n     */\r\n    this.setString = function (newS) {\r\n        this.hTLV = null;\r\n        this.isModified = true;\r\n        this.s = newS;\r\n        this.hV = stohex(newS);\r\n    };\r\n    /**\r\n     * set value by a Date object\r\n     * @name setByDateValue\r\n     * @memberOf KJUR.asn1.DERAbstractTime#\r\n     * @function\r\n     * @param {Integer} year year of date (ex. 2013)\r\n     * @param {Integer} month month of date between 1 and 12 (ex. 12)\r\n     * @param {Integer} day day of month\r\n     * @param {Integer} hour hours of date\r\n     * @param {Integer} min minutes of date\r\n     * @param {Integer} sec seconds of date\r\n     */\r\n    this.setByDateValue = function (year, month, day, hour, min, sec) {\r\n        var dateObject = new Date(Date.UTC(year, month - 1, day, hour, min, sec, 0));\r\n        this.setByDate(dateObject);\r\n    };\r\n    this.getFreshValueHex = function () {\r\n        return this.hV;\r\n    };\r\n};\r\nYAHOO.lang.extend(KJUR.asn1.DERAbstractTime, KJUR.asn1.ASN1Object);\r\n// == END   DERAbstractTime ==================================================\r\n// == BEGIN DERAbstractStructured ============================================\r\n/**\r\n * base class for ASN.1 DER structured class\r\n * @name KJUR.asn1.DERAbstractStructured\r\n * @class base class for ASN.1 DER structured class\r\n * @property {Array} asn1Array internal array of ASN1Object\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * @see KJUR.asn1.ASN1Object - superclass\r\n */\r\nKJUR.asn1.DERAbstractStructured = function (params) {\r\n    KJUR.asn1.DERAbstractString.superclass.constructor.call(this);\r\n    var asn1Array = null;\r\n    /**\r\n     * set value by array of ASN1Object\r\n     * @name setByASN1ObjectArray\r\n     * @memberOf KJUR.asn1.DERAbstractStructured#\r\n     * @function\r\n     * @param {array} asn1ObjectArray array of ASN1Object to set\r\n     */\r\n    this.setByASN1ObjectArray = function (asn1ObjectArray) {\r\n        this.hTLV = null;\r\n        this.isModified = true;\r\n        this.asn1Array = asn1ObjectArray;\r\n    };\r\n    /**\r\n     * append an ASN1Object to internal array\r\n     * @name appendASN1Object\r\n     * @memberOf KJUR.asn1.DERAbstractStructured#\r\n     * @function\r\n     * @param {ASN1Object} asn1Object to add\r\n     */\r\n    this.appendASN1Object = function (asn1Object) {\r\n        this.hTLV = null;\r\n        this.isModified = true;\r\n        this.asn1Array.push(asn1Object);\r\n    };\r\n    this.asn1Array = new Array();\r\n    if (typeof params != \"undefined\") {\r\n        if (typeof params['array'] != \"undefined\") {\r\n            this.asn1Array = params['array'];\r\n        }\r\n    }\r\n};\r\nYAHOO.lang.extend(KJUR.asn1.DERAbstractStructured, KJUR.asn1.ASN1Object);\r\n// ********************************************************************\r\n//  ASN.1 Object Classes\r\n// ********************************************************************\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER Boolean\r\n * @name KJUR.asn1.DERBoolean\r\n * @class class for ASN.1 DER Boolean\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * @see KJUR.asn1.ASN1Object - superclass\r\n */\r\nKJUR.asn1.DERBoolean = function () {\r\n    KJUR.asn1.DERBoolean.superclass.constructor.call(this);\r\n    this.hT = \"01\";\r\n    this.hTLV = \"0101ff\";\r\n};\r\nYAHOO.lang.extend(KJUR.asn1.DERBoolean, KJUR.asn1.ASN1Object);\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER Integer\r\n * @name KJUR.asn1.DERInteger\r\n * @class class for ASN.1 DER Integer\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>int - specify initial ASN.1 value(V) by integer value</li>\r\n * <li>bigint - specify initial ASN.1 value(V) by BigInteger object</li>\r\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n */\r\nKJUR.asn1.DERInteger = function (params) {\r\n    KJUR.asn1.DERInteger.superclass.constructor.call(this);\r\n    this.hT = \"02\";\r\n    /**\r\n     * set value by Tom Wu's BigInteger object\r\n     * @name setByBigInteger\r\n     * @memberOf KJUR.asn1.DERInteger#\r\n     * @function\r\n     * @param {BigInteger} bigIntegerValue to set\r\n     */\r\n    this.setByBigInteger = function (bigIntegerValue) {\r\n        this.hTLV = null;\r\n        this.isModified = true;\r\n        this.hV = KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(bigIntegerValue);\r\n    };\r\n    /**\r\n     * set value by integer value\r\n     * @name setByInteger\r\n     * @memberOf KJUR.asn1.DERInteger\r\n     * @function\r\n     * @param {Integer} integer value to set\r\n     */\r\n    this.setByInteger = function (intValue) {\r\n        var bi = new BigInteger(String(intValue), 10);\r\n        this.setByBigInteger(bi);\r\n    };\r\n    /**\r\n     * set value by integer value\r\n     * @name setValueHex\r\n     * @memberOf KJUR.asn1.DERInteger#\r\n     * @function\r\n     * @param {String} hexadecimal string of integer value\r\n     * @description\r\n     * <br/>\r\n     * NOTE: Value shall be represented by minimum octet length of\r\n     * two's complement representation.\r\n     * @example\r\n     * new KJUR.asn1.DERInteger(123);\r\n     * new KJUR.asn1.DERInteger({'int': 123});\r\n     * new KJUR.asn1.DERInteger({'hex': '1fad'});\r\n     */\r\n    this.setValueHex = function (newHexString) {\r\n        this.hV = newHexString;\r\n    };\r\n    this.getFreshValueHex = function () {\r\n        return this.hV;\r\n    };\r\n    if (typeof params != \"undefined\") {\r\n        if (typeof params['bigint'] != \"undefined\") {\r\n            this.setByBigInteger(params['bigint']);\r\n        }\r\n        else if (typeof params['int'] != \"undefined\") {\r\n            this.setByInteger(params['int']);\r\n        }\r\n        else if (typeof params == \"number\") {\r\n            this.setByInteger(params);\r\n        }\r\n        else if (typeof params['hex'] != \"undefined\") {\r\n            this.setValueHex(params['hex']);\r\n        }\r\n    }\r\n};\r\nYAHOO.lang.extend(KJUR.asn1.DERInteger, KJUR.asn1.ASN1Object);\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER encoded BitString primitive\r\n * @name KJUR.asn1.DERBitString\r\n * @class class for ASN.1 DER encoded BitString primitive\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>bin - specify binary string (ex. '10111')</li>\r\n * <li>array - specify array of boolean (ex. [true,false,true,true])</li>\r\n * <li>hex - specify hexadecimal string of ASN.1 value(V) including unused bits</li>\r\n * <li>obj - specify {@link KJUR.asn1.ASN1Util.newObject}\r\n * argument for \"BitString encapsulates\" structure.</li>\r\n * </ul>\r\n * NOTE1: 'params' can be omitted.<br/>\r\n * NOTE2: 'obj' parameter have been supported since\r\n * asn1 1.0.11, jsrsasign 6.1.1 (2016-Sep-25).<br/>\r\n * @example\r\n * // default constructor\r\n * o = new KJUR.asn1.DERBitString();\r\n * // initialize with binary string\r\n * o = new KJUR.asn1.DERBitString({bin: \"1011\"});\r\n * // initialize with boolean array\r\n * o = new KJUR.asn1.DERBitString({array: [true,false,true,true]});\r\n * // initialize with hexadecimal string (04 is unused bits)\r\n * o = new KJUR.asn1.DEROctetString({hex: \"04bac0\"});\r\n * // initialize with ASN1Util.newObject argument for encapsulated\r\n * o = new KJUR.asn1.DERBitString({obj: {seq: [{int: 3}, {prnstr: 'aaa'}]}});\r\n * // above generates a ASN.1 data like this:\r\n * // BIT STRING, encapsulates {\r\n * //   SEQUENCE {\r\n * //     INTEGER 3\r\n * //     PrintableString 'aaa'\r\n * //     }\r\n * //   }\r\n */\r\nKJUR.asn1.DERBitString = function (params) {\r\n    if (params !== undefined && typeof params.obj !== \"undefined\") {\r\n        var o = KJUR.asn1.ASN1Util.newObject(params.obj);\r\n        params.hex = \"00\" + o.getEncodedHex();\r\n    }\r\n    KJUR.asn1.DERBitString.superclass.constructor.call(this);\r\n    this.hT = \"03\";\r\n    /**\r\n     * set ASN.1 value(V) by a hexadecimal string including unused bits\r\n     * @name setHexValueIncludingUnusedBits\r\n     * @memberOf KJUR.asn1.DERBitString#\r\n     * @function\r\n     * @param {String} newHexStringIncludingUnusedBits\r\n     */\r\n    this.setHexValueIncludingUnusedBits = function (newHexStringIncludingUnusedBits) {\r\n        this.hTLV = null;\r\n        this.isModified = true;\r\n        this.hV = newHexStringIncludingUnusedBits;\r\n    };\r\n    /**\r\n     * set ASN.1 value(V) by unused bit and hexadecimal string of value\r\n     * @name setUnusedBitsAndHexValue\r\n     * @memberOf KJUR.asn1.DERBitString#\r\n     * @function\r\n     * @param {Integer} unusedBits\r\n     * @param {String} hValue\r\n     */\r\n    this.setUnusedBitsAndHexValue = function (unusedBits, hValue) {\r\n        if (unusedBits < 0 || 7 < unusedBits) {\r\n            throw \"unused bits shall be from 0 to 7: u = \" + unusedBits;\r\n        }\r\n        var hUnusedBits = \"0\" + unusedBits;\r\n        this.hTLV = null;\r\n        this.isModified = true;\r\n        this.hV = hUnusedBits + hValue;\r\n    };\r\n    /**\r\n     * set ASN.1 DER BitString by binary string<br/>\r\n     * @name setByBinaryString\r\n     * @memberOf KJUR.asn1.DERBitString#\r\n     * @function\r\n     * @param {String} binaryString binary value string (i.e. '10111')\r\n     * @description\r\n     * Its unused bits will be calculated automatically by length of\r\n     * 'binaryValue'. <br/>\r\n     * NOTE: Trailing zeros '0' will be ignored.\r\n     * @example\r\n     * o = new KJUR.asn1.DERBitString();\r\n     * o.setByBooleanArray(\"01011\");\r\n     */\r\n    this.setByBinaryString = function (binaryString) {\r\n        binaryString = binaryString.replace(/0+$/, '');\r\n        var unusedBits = 8 - binaryString.length % 8;\r\n        if (unusedBits == 8)\r\n            unusedBits = 0;\r\n        for (var i = 0; i <= unusedBits; i++) {\r\n            binaryString += '0';\r\n        }\r\n        var h = '';\r\n        for (var i = 0; i < binaryString.length - 1; i += 8) {\r\n            var b = binaryString.substr(i, 8);\r\n            var x = parseInt(b, 2).toString(16);\r\n            if (x.length == 1)\r\n                x = '0' + x;\r\n            h += x;\r\n        }\r\n        this.hTLV = null;\r\n        this.isModified = true;\r\n        this.hV = '0' + unusedBits + h;\r\n    };\r\n    /**\r\n     * set ASN.1 TLV value(V) by an array of boolean<br/>\r\n     * @name setByBooleanArray\r\n     * @memberOf KJUR.asn1.DERBitString#\r\n     * @function\r\n     * @param {array} booleanArray array of boolean (ex. [true, false, true])\r\n     * @description\r\n     * NOTE: Trailing falses will be ignored in the ASN.1 DER Object.\r\n     * @example\r\n     * o = new KJUR.asn1.DERBitString();\r\n     * o.setByBooleanArray([false, true, false, true, true]);\r\n     */\r\n    this.setByBooleanArray = function (booleanArray) {\r\n        var s = '';\r\n        for (var i = 0; i < booleanArray.length; i++) {\r\n            if (booleanArray[i] == true) {\r\n                s += '1';\r\n            }\r\n            else {\r\n                s += '0';\r\n            }\r\n        }\r\n        this.setByBinaryString(s);\r\n    };\r\n    /**\r\n     * generate an array of falses with specified length<br/>\r\n     * @name newFalseArray\r\n     * @memberOf KJUR.asn1.DERBitString\r\n     * @function\r\n     * @param {Integer} nLength length of array to generate\r\n     * @return {array} array of boolean falses\r\n     * @description\r\n     * This static method may be useful to initialize boolean array.\r\n     * @example\r\n     * o = new KJUR.asn1.DERBitString();\r\n     * o.newFalseArray(3) &rarr; [false, false, false]\r\n     */\r\n    this.newFalseArray = function (nLength) {\r\n        var a = new Array(nLength);\r\n        for (var i = 0; i < nLength; i++) {\r\n            a[i] = false;\r\n        }\r\n        return a;\r\n    };\r\n    this.getFreshValueHex = function () {\r\n        return this.hV;\r\n    };\r\n    if (typeof params != \"undefined\") {\r\n        if (typeof params == \"string\" && params.toLowerCase().match(/^[0-9a-f]+$/)) {\r\n            this.setHexValueIncludingUnusedBits(params);\r\n        }\r\n        else if (typeof params['hex'] != \"undefined\") {\r\n            this.setHexValueIncludingUnusedBits(params['hex']);\r\n        }\r\n        else if (typeof params['bin'] != \"undefined\") {\r\n            this.setByBinaryString(params['bin']);\r\n        }\r\n        else if (typeof params['array'] != \"undefined\") {\r\n            this.setByBooleanArray(params['array']);\r\n        }\r\n    }\r\n};\r\nYAHOO.lang.extend(KJUR.asn1.DERBitString, KJUR.asn1.ASN1Object);\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER OctetString<br/>\r\n * @name KJUR.asn1.DEROctetString\r\n * @class class for ASN.1 DER OctetString\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * This class provides ASN.1 OctetString simple type.<br/>\r\n * Supported \"params\" attributes are:\r\n * <ul>\r\n * <li>str - to set a string as a value</li>\r\n * <li>hex - to set a hexadecimal string as a value</li>\r\n * <li>obj - to set a encapsulated ASN.1 value by JSON object\r\n * which is defined in {@link KJUR.asn1.ASN1Util.newObject}</li>\r\n * </ul>\r\n * NOTE: A parameter 'obj' have been supported\r\n * for \"OCTET STRING, encapsulates\" structure.\r\n * since asn1 1.0.11, jsrsasign 6.1.1 (2016-Sep-25).\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n * @example\r\n * // default constructor\r\n * o = new KJUR.asn1.DEROctetString();\r\n * // initialize with string\r\n * o = new KJUR.asn1.DEROctetString({str: \"aaa\"});\r\n * // initialize with hexadecimal string\r\n * o = new KJUR.asn1.DEROctetString({hex: \"616161\"});\r\n * // initialize with ASN1Util.newObject argument\r\n * o = new KJUR.asn1.DEROctetString({obj: {seq: [{int: 3}, {prnstr: 'aaa'}]}});\r\n * // above generates a ASN.1 data like this:\r\n * // OCTET STRING, encapsulates {\r\n * //   SEQUENCE {\r\n * //     INTEGER 3\r\n * //     PrintableString 'aaa'\r\n * //     }\r\n * //   }\r\n */\r\nKJUR.asn1.DEROctetString = function (params) {\r\n    if (params !== undefined && typeof params.obj !== \"undefined\") {\r\n        var o = KJUR.asn1.ASN1Util.newObject(params.obj);\r\n        params.hex = o.getEncodedHex();\r\n    }\r\n    KJUR.asn1.DEROctetString.superclass.constructor.call(this, params);\r\n    this.hT = \"04\";\r\n};\r\nYAHOO.lang.extend(KJUR.asn1.DEROctetString, KJUR.asn1.DERAbstractString);\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER Null\r\n * @name KJUR.asn1.DERNull\r\n * @class class for ASN.1 DER Null\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * @see KJUR.asn1.ASN1Object - superclass\r\n */\r\nKJUR.asn1.DERNull = function () {\r\n    KJUR.asn1.DERNull.superclass.constructor.call(this);\r\n    this.hT = \"05\";\r\n    this.hTLV = \"0500\";\r\n};\r\nYAHOO.lang.extend(KJUR.asn1.DERNull, KJUR.asn1.ASN1Object);\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER ObjectIdentifier\r\n * @name KJUR.asn1.DERObjectIdentifier\r\n * @class class for ASN.1 DER ObjectIdentifier\r\n * @param {Array} params associative array of parameters (ex. {'oid': '2.5.4.5'})\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>oid - specify initial ASN.1 value(V) by a oid string (ex. 2.5.4.13)</li>\r\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n */\r\nKJUR.asn1.DERObjectIdentifier = function (params) {\r\n    var itox = function (i) {\r\n        var h = i.toString(16);\r\n        if (h.length == 1)\r\n            h = '0' + h;\r\n        return h;\r\n    };\r\n    var roidtox = function (roid) {\r\n        var h = '';\r\n        var bi = new BigInteger(roid, 10);\r\n        var b = bi.toString(2);\r\n        var padLen = 7 - b.length % 7;\r\n        if (padLen == 7)\r\n            padLen = 0;\r\n        var bPad = '';\r\n        for (var i = 0; i < padLen; i++)\r\n            bPad += '0';\r\n        b = bPad + b;\r\n        for (var i = 0; i < b.length - 1; i += 7) {\r\n            var b8 = b.substr(i, 7);\r\n            if (i != b.length - 7)\r\n                b8 = '1' + b8;\r\n            h += itox(parseInt(b8, 2));\r\n        }\r\n        return h;\r\n    };\r\n    KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this);\r\n    this.hT = \"06\";\r\n    /**\r\n     * set value by a hexadecimal string\r\n     * @name setValueHex\r\n     * @memberOf KJUR.asn1.DERObjectIdentifier#\r\n     * @function\r\n     * @param {String} newHexString hexadecimal value of OID bytes\r\n     */\r\n    this.setValueHex = function (newHexString) {\r\n        this.hTLV = null;\r\n        this.isModified = true;\r\n        this.s = null;\r\n        this.hV = newHexString;\r\n    };\r\n    /**\r\n     * set value by a OID string<br/>\r\n     * @name setValueOidString\r\n     * @memberOf KJUR.asn1.DERObjectIdentifier#\r\n     * @function\r\n     * @param {String} oidString OID string (ex. 2.5.4.13)\r\n     * @example\r\n     * o = new KJUR.asn1.DERObjectIdentifier();\r\n     * o.setValueOidString(\"2.5.4.13\");\r\n     */\r\n    this.setValueOidString = function (oidString) {\r\n        if (!oidString.match(/^[0-9.]+$/)) {\r\n            throw \"malformed oid string: \" + oidString;\r\n        }\r\n        var h = '';\r\n        var a = oidString.split('.');\r\n        var i0 = parseInt(a[0]) * 40 + parseInt(a[1]);\r\n        h += itox(i0);\r\n        a.splice(0, 2);\r\n        for (var i = 0; i < a.length; i++) {\r\n            h += roidtox(a[i]);\r\n        }\r\n        this.hTLV = null;\r\n        this.isModified = true;\r\n        this.s = null;\r\n        this.hV = h;\r\n    };\r\n    /**\r\n     * set value by a OID name\r\n     * @name setValueName\r\n     * @memberOf KJUR.asn1.DERObjectIdentifier#\r\n     * @function\r\n     * @param {String} oidName OID name (ex. 'serverAuth')\r\n     * @since 1.0.1\r\n     * @description\r\n     * OID name shall be defined in 'KJUR.asn1.x509.OID.name2oidList'.\r\n     * Otherwise raise error.\r\n     * @example\r\n     * o = new KJUR.asn1.DERObjectIdentifier();\r\n     * o.setValueName(\"serverAuth\");\r\n     */\r\n    this.setValueName = function (oidName) {\r\n        var oid = KJUR.asn1.x509.OID.name2oid(oidName);\r\n        if (oid !== '') {\r\n            this.setValueOidString(oid);\r\n        }\r\n        else {\r\n            throw \"DERObjectIdentifier oidName undefined: \" + oidName;\r\n        }\r\n    };\r\n    this.getFreshValueHex = function () {\r\n        return this.hV;\r\n    };\r\n    if (params !== undefined) {\r\n        if (typeof params === \"string\") {\r\n            if (params.match(/^[0-2].[0-9.]+$/)) {\r\n                this.setValueOidString(params);\r\n            }\r\n            else {\r\n                this.setValueName(params);\r\n            }\r\n        }\r\n        else if (params.oid !== undefined) {\r\n            this.setValueOidString(params.oid);\r\n        }\r\n        else if (params.hex !== undefined) {\r\n            this.setValueHex(params.hex);\r\n        }\r\n        else if (params.name !== undefined) {\r\n            this.setValueName(params.name);\r\n        }\r\n    }\r\n};\r\nYAHOO.lang.extend(KJUR.asn1.DERObjectIdentifier, KJUR.asn1.ASN1Object);\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER Enumerated\r\n * @name KJUR.asn1.DEREnumerated\r\n * @class class for ASN.1 DER Enumerated\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>int - specify initial ASN.1 value(V) by integer value</li>\r\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n * @example\r\n * new KJUR.asn1.DEREnumerated(123);\r\n * new KJUR.asn1.DEREnumerated({int: 123});\r\n * new KJUR.asn1.DEREnumerated({hex: '1fad'});\r\n */\r\nKJUR.asn1.DEREnumerated = function (params) {\r\n    KJUR.asn1.DEREnumerated.superclass.constructor.call(this);\r\n    this.hT = \"0a\";\r\n    /**\r\n     * set value by Tom Wu's BigInteger object\r\n     * @name setByBigInteger\r\n     * @memberOf KJUR.asn1.DEREnumerated#\r\n     * @function\r\n     * @param {BigInteger} bigIntegerValue to set\r\n     */\r\n    this.setByBigInteger = function (bigIntegerValue) {\r\n        this.hTLV = null;\r\n        this.isModified = true;\r\n        this.hV = KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(bigIntegerValue);\r\n    };\r\n    /**\r\n     * set value by integer value\r\n     * @name setByInteger\r\n     * @memberOf KJUR.asn1.DEREnumerated#\r\n     * @function\r\n     * @param {Integer} integer value to set\r\n     */\r\n    this.setByInteger = function (intValue) {\r\n        var bi = new BigInteger(String(intValue), 10);\r\n        this.setByBigInteger(bi);\r\n    };\r\n    /**\r\n     * set value by integer value\r\n     * @name setValueHex\r\n     * @memberOf KJUR.asn1.DEREnumerated#\r\n     * @function\r\n     * @param {String} hexadecimal string of integer value\r\n     * @description\r\n     * <br/>\r\n     * NOTE: Value shall be represented by minimum octet length of\r\n     * two's complement representation.\r\n     */\r\n    this.setValueHex = function (newHexString) {\r\n        this.hV = newHexString;\r\n    };\r\n    this.getFreshValueHex = function () {\r\n        return this.hV;\r\n    };\r\n    if (typeof params != \"undefined\") {\r\n        if (typeof params['int'] != \"undefined\") {\r\n            this.setByInteger(params['int']);\r\n        }\r\n        else if (typeof params == \"number\") {\r\n            this.setByInteger(params);\r\n        }\r\n        else if (typeof params['hex'] != \"undefined\") {\r\n            this.setValueHex(params['hex']);\r\n        }\r\n    }\r\n};\r\nYAHOO.lang.extend(KJUR.asn1.DEREnumerated, KJUR.asn1.ASN1Object);\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER UTF8String\r\n * @name KJUR.asn1.DERUTF8String\r\n * @class class for ASN.1 DER UTF8String\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n */\r\nKJUR.asn1.DERUTF8String = function (params) {\r\n    KJUR.asn1.DERUTF8String.superclass.constructor.call(this, params);\r\n    this.hT = \"0c\";\r\n};\r\nYAHOO.lang.extend(KJUR.asn1.DERUTF8String, KJUR.asn1.DERAbstractString);\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER NumericString\r\n * @name KJUR.asn1.DERNumericString\r\n * @class class for ASN.1 DER NumericString\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n */\r\nKJUR.asn1.DERNumericString = function (params) {\r\n    KJUR.asn1.DERNumericString.superclass.constructor.call(this, params);\r\n    this.hT = \"12\";\r\n};\r\nYAHOO.lang.extend(KJUR.asn1.DERNumericString, KJUR.asn1.DERAbstractString);\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER PrintableString\r\n * @name KJUR.asn1.DERPrintableString\r\n * @class class for ASN.1 DER PrintableString\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n */\r\nKJUR.asn1.DERPrintableString = function (params) {\r\n    KJUR.asn1.DERPrintableString.superclass.constructor.call(this, params);\r\n    this.hT = \"13\";\r\n};\r\nYAHOO.lang.extend(KJUR.asn1.DERPrintableString, KJUR.asn1.DERAbstractString);\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER TeletexString\r\n * @name KJUR.asn1.DERTeletexString\r\n * @class class for ASN.1 DER TeletexString\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n */\r\nKJUR.asn1.DERTeletexString = function (params) {\r\n    KJUR.asn1.DERTeletexString.superclass.constructor.call(this, params);\r\n    this.hT = \"14\";\r\n};\r\nYAHOO.lang.extend(KJUR.asn1.DERTeletexString, KJUR.asn1.DERAbstractString);\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER IA5String\r\n * @name KJUR.asn1.DERIA5String\r\n * @class class for ASN.1 DER IA5String\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n */\r\nKJUR.asn1.DERIA5String = function (params) {\r\n    KJUR.asn1.DERIA5String.superclass.constructor.call(this, params);\r\n    this.hT = \"16\";\r\n};\r\nYAHOO.lang.extend(KJUR.asn1.DERIA5String, KJUR.asn1.DERAbstractString);\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER UTCTime\r\n * @name KJUR.asn1.DERUTCTime\r\n * @class class for ASN.1 DER UTCTime\r\n * @param {Array} params associative array of parameters (ex. {'str': '130430235959Z'})\r\n * @extends KJUR.asn1.DERAbstractTime\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>str - specify initial ASN.1 value(V) by a string (ex.'130430235959Z')</li>\r\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n * <li>date - specify Date object.</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n * <h4>EXAMPLES</h4>\r\n * @example\r\n * d1 = new KJUR.asn1.DERUTCTime();\r\n * d1.setString('130430125959Z');\r\n *\r\n * d2 = new KJUR.asn1.DERUTCTime({'str': '130430125959Z'});\r\n * d3 = new KJUR.asn1.DERUTCTime({'date': new Date(Date.UTC(2015, 0, 31, 0, 0, 0, 0))});\r\n * d4 = new KJUR.asn1.DERUTCTime('130430125959Z');\r\n */\r\nKJUR.asn1.DERUTCTime = function (params) {\r\n    KJUR.asn1.DERUTCTime.superclass.constructor.call(this, params);\r\n    this.hT = \"17\";\r\n    /**\r\n     * set value by a Date object<br/>\r\n     * @name setByDate\r\n     * @memberOf KJUR.asn1.DERUTCTime#\r\n     * @function\r\n     * @param {Date} dateObject Date object to set ASN.1 value(V)\r\n     * @example\r\n     * o = new KJUR.asn1.DERUTCTime();\r\n     * o.setByDate(new Date(\"2016/12/31\"));\r\n     */\r\n    this.setByDate = function (dateObject) {\r\n        this.hTLV = null;\r\n        this.isModified = true;\r\n        this.date = dateObject;\r\n        this.s = this.formatDate(this.date, 'utc');\r\n        this.hV = stohex(this.s);\r\n    };\r\n    this.getFreshValueHex = function () {\r\n        if (typeof this.date == \"undefined\" && typeof this.s == \"undefined\") {\r\n            this.date = new Date();\r\n            this.s = this.formatDate(this.date, 'utc');\r\n            this.hV = stohex(this.s);\r\n        }\r\n        return this.hV;\r\n    };\r\n    if (params !== undefined) {\r\n        if (params.str !== undefined) {\r\n            this.setString(params.str);\r\n        }\r\n        else if (typeof params == \"string\" && params.match(/^[0-9]{12}Z$/)) {\r\n            this.setString(params);\r\n        }\r\n        else if (params.hex !== undefined) {\r\n            this.setStringHex(params.hex);\r\n        }\r\n        else if (params.date !== undefined) {\r\n            this.setByDate(params.date);\r\n        }\r\n    }\r\n};\r\nYAHOO.lang.extend(KJUR.asn1.DERUTCTime, KJUR.asn1.DERAbstractTime);\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER GeneralizedTime\r\n * @name KJUR.asn1.DERGeneralizedTime\r\n * @class class for ASN.1 DER GeneralizedTime\r\n * @param {Array} params associative array of parameters (ex. {'str': '20130430235959Z'})\r\n * @property {Boolean} withMillis flag to show milliseconds or not\r\n * @extends KJUR.asn1.DERAbstractTime\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>str - specify initial ASN.1 value(V) by a string (ex.'20130430235959Z')</li>\r\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n * <li>date - specify Date object.</li>\r\n * <li>millis - specify flag to show milliseconds (from 1.0.6)</li>\r\n * </ul>\r\n * NOTE1: 'params' can be omitted.\r\n * NOTE2: 'withMillis' property is supported from asn1 1.0.6.\r\n */\r\nKJUR.asn1.DERGeneralizedTime = function (params) {\r\n    KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this, params);\r\n    this.hT = \"18\";\r\n    this.withMillis = false;\r\n    /**\r\n     * set value by a Date object\r\n     * @name setByDate\r\n     * @memberOf KJUR.asn1.DERGeneralizedTime#\r\n     * @function\r\n     * @param {Date} dateObject Date object to set ASN.1 value(V)\r\n     * @example\r\n     * When you specify UTC time, use 'Date.UTC' method like this:<br/>\r\n     * o1 = new DERUTCTime();\r\n     * o1.setByDate(date);\r\n     *\r\n     * date = new Date(Date.UTC(2015, 0, 31, 23, 59, 59, 0)); #2015JAN31 23:59:59\r\n     */\r\n    this.setByDate = function (dateObject) {\r\n        this.hTLV = null;\r\n        this.isModified = true;\r\n        this.date = dateObject;\r\n        this.s = this.formatDate(this.date, 'gen', this.withMillis);\r\n        this.hV = stohex(this.s);\r\n    };\r\n    this.getFreshValueHex = function () {\r\n        if (this.date === undefined && this.s === undefined) {\r\n            this.date = new Date();\r\n            this.s = this.formatDate(this.date, 'gen', this.withMillis);\r\n            this.hV = stohex(this.s);\r\n        }\r\n        return this.hV;\r\n    };\r\n    if (params !== undefined) {\r\n        if (params.str !== undefined) {\r\n            this.setString(params.str);\r\n        }\r\n        else if (typeof params == \"string\" && params.match(/^[0-9]{14}Z$/)) {\r\n            this.setString(params);\r\n        }\r\n        else if (params.hex !== undefined) {\r\n            this.setStringHex(params.hex);\r\n        }\r\n        else if (params.date !== undefined) {\r\n            this.setByDate(params.date);\r\n        }\r\n        if (params.millis === true) {\r\n            this.withMillis = true;\r\n        }\r\n    }\r\n};\r\nYAHOO.lang.extend(KJUR.asn1.DERGeneralizedTime, KJUR.asn1.DERAbstractTime);\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER Sequence\r\n * @name KJUR.asn1.DERSequence\r\n * @class class for ASN.1 DER Sequence\r\n * @extends KJUR.asn1.DERAbstractStructured\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>array - specify array of ASN1Object to set elements of content</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n */\r\nKJUR.asn1.DERSequence = function (params) {\r\n    KJUR.asn1.DERSequence.superclass.constructor.call(this, params);\r\n    this.hT = \"30\";\r\n    this.getFreshValueHex = function () {\r\n        var h = '';\r\n        for (var i = 0; i < this.asn1Array.length; i++) {\r\n            var asn1Obj = this.asn1Array[i];\r\n            h += asn1Obj.getEncodedHex();\r\n        }\r\n        this.hV = h;\r\n        return this.hV;\r\n    };\r\n};\r\nYAHOO.lang.extend(KJUR.asn1.DERSequence, KJUR.asn1.DERAbstractStructured);\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER Set\r\n * @name KJUR.asn1.DERSet\r\n * @class class for ASN.1 DER Set\r\n * @extends KJUR.asn1.DERAbstractStructured\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>array - specify array of ASN1Object to set elements of content</li>\r\n * <li>sortflag - flag for sort (default: true). ASN.1 BER is not sorted in 'SET OF'.</li>\r\n * </ul>\r\n * NOTE1: 'params' can be omitted.<br/>\r\n * NOTE2: sortflag is supported since 1.0.5.\r\n */\r\nKJUR.asn1.DERSet = function (params) {\r\n    KJUR.asn1.DERSet.superclass.constructor.call(this, params);\r\n    this.hT = \"31\";\r\n    this.sortFlag = true; // item shall be sorted only in ASN.1 DER\r\n    this.getFreshValueHex = function () {\r\n        var a = new Array();\r\n        for (var i = 0; i < this.asn1Array.length; i++) {\r\n            var asn1Obj = this.asn1Array[i];\r\n            a.push(asn1Obj.getEncodedHex());\r\n        }\r\n        if (this.sortFlag == true)\r\n            a.sort();\r\n        this.hV = a.join('');\r\n        return this.hV;\r\n    };\r\n    if (typeof params != \"undefined\") {\r\n        if (typeof params.sortflag != \"undefined\" &&\r\n            params.sortflag == false)\r\n            this.sortFlag = false;\r\n    }\r\n};\r\nYAHOO.lang.extend(KJUR.asn1.DERSet, KJUR.asn1.DERAbstractStructured);\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER TaggedObject\r\n * @name KJUR.asn1.DERTaggedObject\r\n * @class class for ASN.1 DER TaggedObject\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * <br/>\r\n * Parameter 'tagNoNex' is ASN.1 tag(T) value for this object.\r\n * For example, if you find '[1]' tag in a ASN.1 dump,\r\n * 'tagNoHex' will be 'a1'.\r\n * <br/>\r\n * As for optional argument 'params' for constructor, you can specify *ANY* of\r\n * following properties:\r\n * <ul>\r\n * <li>explicit - specify true if this is explicit tag otherwise false\r\n *     (default is 'true').</li>\r\n * <li>tag - specify tag (default is 'a0' which means [0])</li>\r\n * <li>obj - specify ASN1Object which is tagged</li>\r\n * </ul>\r\n * @example\r\n * d1 = new KJUR.asn1.DERUTF8String({'str':'a'});\r\n * d2 = new KJUR.asn1.DERTaggedObject({'obj': d1});\r\n * hex = d2.getEncodedHex();\r\n */\r\nKJUR.asn1.DERTaggedObject = function (params) {\r\n    KJUR.asn1.DERTaggedObject.superclass.constructor.call(this);\r\n    this.hT = \"a0\";\r\n    this.hV = '';\r\n    this.isExplicit = true;\r\n    this.asn1Object = null;\r\n    /**\r\n     * set value by an ASN1Object\r\n     * @name setString\r\n     * @memberOf KJUR.asn1.DERTaggedObject#\r\n     * @function\r\n     * @param {Boolean} isExplicitFlag flag for explicit/implicit tag\r\n     * @param {Integer} tagNoHex hexadecimal string of ASN.1 tag\r\n     * @param {ASN1Object} asn1Object ASN.1 to encapsulate\r\n     */\r\n    this.setASN1Object = function (isExplicitFlag, tagNoHex, asn1Object) {\r\n        this.hT = tagNoHex;\r\n        this.isExplicit = isExplicitFlag;\r\n        this.asn1Object = asn1Object;\r\n        if (this.isExplicit) {\r\n            this.hV = this.asn1Object.getEncodedHex();\r\n            this.hTLV = null;\r\n            this.isModified = true;\r\n        }\r\n        else {\r\n            this.hV = null;\r\n            this.hTLV = asn1Object.getEncodedHex();\r\n            this.hTLV = this.hTLV.replace(/^../, tagNoHex);\r\n            this.isModified = false;\r\n        }\r\n    };\r\n    this.getFreshValueHex = function () {\r\n        return this.hV;\r\n    };\r\n    if (typeof params != \"undefined\") {\r\n        if (typeof params['tag'] != \"undefined\") {\r\n            this.hT = params['tag'];\r\n        }\r\n        if (typeof params['explicit'] != \"undefined\") {\r\n            this.isExplicit = params['explicit'];\r\n        }\r\n        if (typeof params['obj'] != \"undefined\") {\r\n            this.asn1Object = params['obj'];\r\n            this.setASN1Object(this.isExplicit, this.hT, this.asn1Object);\r\n        }\r\n    }\r\n};\r\nYAHOO.lang.extend(KJUR.asn1.DERTaggedObject, KJUR.asn1.ASN1Object);\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,UAAU,QAAQ,cAAc;AACzC,SAASC,KAAK,QAAQ,SAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAIC,IAAI,GAAG,CAAC,CAAC;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,OAAOA,IAAI,CAACC,IAAI,IAAI,WAAW,IAAI,CAACD,IAAI,CAACC,IAAI,EAC7CD,IAAI,CAACC,IAAI,GAAG,CAAC,CAAC;AAClB;AACA;AACA;AACA;AACA;AACA;AACAD,IAAI,CAACC,IAAI,CAACC,QAAQ,GAAG,IAAI,YAAY;EACjC,IAAI,CAACC,gBAAgB,GAAG,UAAUC,CAAC,EAAE;IACjC,IAAIC,CAAC,GAAGD,CAAC,CAACE,QAAQ,CAAC,EAAE,CAAC;IACtB,IAAKD,CAAC,CAACE,MAAM,GAAG,CAAC,IAAK,CAAC,EACnBF,CAAC,GAAG,GAAG,GAAGA,CAAC;IACf,OAAOA,CAAC;EACZ,CAAC;EACD,IAAI,CAACG,6BAA6B,GAAG,UAAUC,eAAe,EAAE;IAC5D,IAAIJ,CAAC,GAAGI,eAAe,CAACH,QAAQ,CAAC,EAAE,CAAC;IACpC,IAAID,CAAC,CAACK,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE;MACvB,IAAIL,CAAC,CAACE,MAAM,GAAG,CAAC,IAAI,CAAC,EAAE;QACnBF,CAAC,GAAG,GAAG,GAAGA,CAAC;MACf,CAAC,MACI;QACD,IAAI,CAACA,CAAC,CAACM,KAAK,CAAC,QAAQ,CAAC,EAAE;UACpBN,CAAC,GAAG,IAAI,GAAGA,CAAC;QAChB;MACJ;IACJ,CAAC,MACI;MACD,IAAIO,IAAI,GAAGP,CAAC,CAACK,MAAM,CAAC,CAAC,CAAC;MACtB,IAAIG,MAAM,GAAGD,IAAI,CAACL,MAAM;MACxB,IAAIM,MAAM,GAAG,CAAC,IAAI,CAAC,EAAE;QACjBA,MAAM,IAAI,CAAC;MACf,CAAC,MACI;QACD,IAAI,CAACR,CAAC,CAACM,KAAK,CAAC,QAAQ,CAAC,EAAE;UACpBE,MAAM,IAAI,CAAC;QACf;MACJ;MACA,IAAIC,KAAK,GAAG,EAAE;MACd,KAAK,IAAIV,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGS,MAAM,EAAET,CAAC,EAAE,EAAE;QAC7BU,KAAK,IAAI,GAAG;MAChB;MACA,IAAIC,MAAM,GAAG,IAAIjB,UAAU,CAACgB,KAAK,EAAE,EAAE,CAAC;MACtC,IAAIE,KAAK,GAAGD,MAAM,CAACE,GAAG,CAACR,eAAe,CAAC,CAACS,GAAG,CAACpB,UAAU,CAACqB,GAAG,CAAC;MAC3Dd,CAAC,GAAGW,KAAK,CAACV,QAAQ,CAAC,EAAE,CAAC,CAACc,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;IAC5C;IACA,OAAOf,CAAC;EACZ,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACgB,mBAAmB,GAAG,UAAUC,OAAO,EAAEC,SAAS,EAAE;IACrD,OAAOC,QAAQ,CAACF,OAAO,EAAEC,SAAS,CAAC;EACvC,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACE,SAAS,GAAG,UAAUC,KAAK,EAAE;IAC9B,IAAIC,KAAK,GAAG3B,IAAI;MAAE4B,UAAU,GAAGD,KAAK,CAAC1B,IAAI;MAAE4B,WAAW,GAAGD,UAAU,CAACE,UAAU;MAAEC,WAAW,GAAGH,UAAU,CAACI,UAAU;MAAEC,aAAa,GAAGL,UAAU,CAACM,YAAY;MAAEC,eAAe,GAAGP,UAAU,CAACQ,cAAc;MAAEC,QAAQ,GAAGT,UAAU,CAACU,OAAO;MAAEC,oBAAoB,GAAGX,UAAU,CAACY,mBAAmB;MAAEC,cAAc,GAAGb,UAAU,CAACc,aAAa;MAAEC,cAAc,GAAGf,UAAU,CAACgB,aAAa;MAAEC,iBAAiB,GAAGjB,UAAU,CAACkB,gBAAgB;MAAEC,mBAAmB,GAAGnB,UAAU,CAACoB,kBAAkB;MAAEC,iBAAiB,GAAGrB,UAAU,CAACsB,gBAAgB;MAAEC,aAAa,GAAGvB,UAAU,CAACwB,YAAY;MAAEC,WAAW,GAAGzB,UAAU,CAAC0B,UAAU;MAAEC,mBAAmB,GAAG3B,UAAU,CAAC4B,kBAAkB;MAAEC,YAAY,GAAG7B,UAAU,CAAC8B,WAAW;MAAEC,OAAO,GAAG/B,UAAU,CAACgC,MAAM;MAAEC,gBAAgB,GAAGjC,UAAU,CAACkC,eAAe;MAAEC,UAAU,GAAGnC,UAAU,CAAC1B,QAAQ,CAACuB,SAAS;IAC9yB,IAAIuC,IAAI,GAAGC,MAAM,CAACD,IAAI,CAACtC,KAAK,CAAC;IAC7B,IAAIsC,IAAI,CAACzD,MAAM,IAAI,CAAC,EAChB,MAAM,iCAAiC;IAC3C,IAAI2D,GAAG,GAAGF,IAAI,CAAC,CAAC,CAAC;IACjB,IAAI,wGAAwG,CAACG,OAAO,CAAC,GAAG,GAAGD,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,EACvI,MAAM,iBAAiB,GAAGA,GAAG;IACjC,IAAIA,GAAG,IAAI,MAAM,EACb,OAAO,IAAIrC,WAAW,CAACH,KAAK,CAACwC,GAAG,CAAC,CAAC;IACtC,IAAIA,GAAG,IAAI,KAAK,EACZ,OAAO,IAAInC,WAAW,CAACL,KAAK,CAACwC,GAAG,CAAC,CAAC;IACtC,IAAIA,GAAG,IAAI,QAAQ,EACf,OAAO,IAAIjC,aAAa,CAACP,KAAK,CAACwC,GAAG,CAAC,CAAC;IACxC,IAAIA,GAAG,IAAI,QAAQ,EACf,OAAO,IAAI/B,eAAe,CAACT,KAAK,CAACwC,GAAG,CAAC,CAAC;IAC1C,IAAIA,GAAG,IAAI,MAAM,EACb,OAAO,IAAI7B,QAAQ,CAACX,KAAK,CAACwC,GAAG,CAAC,CAAC;IACnC,IAAIA,GAAG,IAAI,KAAK,EACZ,OAAO,IAAI3B,oBAAoB,CAACb,KAAK,CAACwC,GAAG,CAAC,CAAC;IAC/C,IAAIA,GAAG,IAAI,MAAM,EACb,OAAO,IAAIzB,cAAc,CAACf,KAAK,CAACwC,GAAG,CAAC,CAAC;IACzC,IAAIA,GAAG,IAAI,SAAS,EAChB,OAAO,IAAIvB,cAAc,CAACjB,KAAK,CAACwC,GAAG,CAAC,CAAC;IACzC,IAAIA,GAAG,IAAI,QAAQ,EACf,OAAO,IAAIrB,iBAAiB,CAACnB,KAAK,CAACwC,GAAG,CAAC,CAAC;IAC5C,IAAIA,GAAG,IAAI,QAAQ,EACf,OAAO,IAAInB,mBAAmB,CAACrB,KAAK,CAACwC,GAAG,CAAC,CAAC;IAC9C,IAAIA,GAAG,IAAI,QAAQ,EACf,OAAO,IAAIjB,iBAAiB,CAACvB,KAAK,CAACwC,GAAG,CAAC,CAAC;IAC5C,IAAIA,GAAG,IAAI,QAAQ,EACf,OAAO,IAAIf,aAAa,CAACzB,KAAK,CAACwC,GAAG,CAAC,CAAC;IACxC,IAAIA,GAAG,IAAI,SAAS,EAChB,OAAO,IAAIb,WAAW,CAAC3B,KAAK,CAACwC,GAAG,CAAC,CAAC;IACtC,IAAIA,GAAG,IAAI,SAAS,EAChB,OAAO,IAAIX,mBAAmB,CAAC7B,KAAK,CAACwC,GAAG,CAAC,CAAC;IAC9C,IAAIA,GAAG,IAAI,KAAK,EAAE;MACd,IAAIE,SAAS,GAAG1C,KAAK,CAACwC,GAAG,CAAC;MAC1B,IAAIG,CAAC,GAAG,EAAE;MACV,KAAK,IAAIjE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGgE,SAAS,CAAC7D,MAAM,EAAEH,CAAC,EAAE,EAAE;QACvC,IAAIkE,OAAO,GAAGP,UAAU,CAACK,SAAS,CAAChE,CAAC,CAAC,CAAC;QACtCiE,CAAC,CAACE,IAAI,CAACD,OAAO,CAAC;MACnB;MACA,OAAO,IAAIb,YAAY,CAAC;QAAE,OAAO,EAAEY;MAAE,CAAC,CAAC;IAC3C;IACA,IAAIH,GAAG,IAAI,KAAK,EAAE;MACd,IAAIE,SAAS,GAAG1C,KAAK,CAACwC,GAAG,CAAC;MAC1B,IAAIG,CAAC,GAAG,EAAE;MACV,KAAK,IAAIjE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGgE,SAAS,CAAC7D,MAAM,EAAEH,CAAC,EAAE,EAAE;QACvC,IAAIkE,OAAO,GAAGP,UAAU,CAACK,SAAS,CAAChE,CAAC,CAAC,CAAC;QACtCiE,CAAC,CAACE,IAAI,CAACD,OAAO,CAAC;MACnB;MACA,OAAO,IAAIX,OAAO,CAAC;QAAE,OAAO,EAAEU;MAAE,CAAC,CAAC;IACtC;IACA,IAAIH,GAAG,IAAI,KAAK,EAAE;MACd,IAAIM,QAAQ,GAAG9C,KAAK,CAACwC,GAAG,CAAC;MACzB,IAAID,MAAM,CAACQ,SAAS,CAACnE,QAAQ,CAACoE,IAAI,CAACF,QAAQ,CAAC,KAAK,gBAAgB,IAC7DA,QAAQ,CAACjE,MAAM,IAAI,CAAC,EAAE;QACtB,IAAIoE,GAAG,GAAGZ,UAAU,CAACS,QAAQ,CAAC,CAAC,CAAC,CAAC;QACjC,OAAO,IAAIX,gBAAgB,CAAC;UAAEe,GAAG,EAAEJ,QAAQ,CAAC,CAAC,CAAC;UAC1CK,QAAQ,EAAEL,QAAQ,CAAC,CAAC,CAAC;UACrBG,GAAG,EAAEA;QAAI,CAAC,CAAC;MACnB,CAAC,MACI;QACD,IAAIG,QAAQ,GAAG,CAAC,CAAC;QACjB,IAAIN,QAAQ,CAACK,QAAQ,KAAKE,SAAS,EAC/BD,QAAQ,CAACD,QAAQ,GAAGL,QAAQ,CAACK,QAAQ;QACzC,IAAIL,QAAQ,CAACI,GAAG,KAAKG,SAAS,EAC1BD,QAAQ,CAACF,GAAG,GAAGJ,QAAQ,CAACI,GAAG;QAC/B,IAAIJ,QAAQ,CAACG,GAAG,KAAKI,SAAS,EAC1B,MAAM,mCAAmC;QAC7CD,QAAQ,CAACH,GAAG,GAAGZ,UAAU,CAACS,QAAQ,CAACG,GAAG,CAAC;QACvC,OAAO,IAAId,gBAAgB,CAACiB,QAAQ,CAAC;MACzC;IACJ;EACJ,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACE,aAAa,GAAG,UAAUtD,KAAK,EAAE;IAClC,IAAI4C,OAAO,GAAG,IAAI,CAAC7C,SAAS,CAACC,KAAK,CAAC;IACnC,OAAO4C,OAAO,CAACW,aAAa,CAAC,CAAC;EAClC,CAAC;AACL,CAAC,CAAD,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAjF,IAAI,CAACC,IAAI,CAACC,QAAQ,CAACgF,WAAW,GAAG,UAAUC,GAAG,EAAE;EAC5C,IAAIC,CAAC,GAAG,EAAE;EACV,IAAIC,GAAG,GAAGC,QAAQ,CAACH,GAAG,CAACzE,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;EACxC,IAAI6E,EAAE,GAAGC,IAAI,CAACC,KAAK,CAACJ,GAAG,GAAG,EAAE,CAAC;EAC7B,IAAIK,EAAE,GAAGL,GAAG,GAAG,EAAE;EACjB,IAAID,CAAC,GAAGG,EAAE,GAAG,GAAG,GAAGG,EAAE;EACrB,IAAIC,MAAM,GAAG,EAAE;EACf,KAAK,IAAIvF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+E,GAAG,CAAC5E,MAAM,EAAEH,CAAC,IAAI,CAAC,EAAE;IACpC,IAAIwF,KAAK,GAAGN,QAAQ,CAACH,GAAG,CAACzE,MAAM,CAACN,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;IAC1C,IAAIyF,GAAG,GAAG,CAAC,UAAU,GAAGD,KAAK,CAACtF,QAAQ,CAAC,CAAC,CAAC,EAAEwF,KAAK,CAAC,CAAC,CAAC,CAAC;IACpDH,MAAM,GAAGA,MAAM,GAAGE,GAAG,CAACnF,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;IAClC,IAAImF,GAAG,CAACnF,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE;MACzB,IAAIqF,EAAE,GAAG,IAAIjG,UAAU,CAAC6F,MAAM,EAAE,CAAC,CAAC;MAClCP,CAAC,GAAGA,CAAC,GAAG,GAAG,GAAGW,EAAE,CAACzF,QAAQ,CAAC,EAAE,CAAC;MAC7BqF,MAAM,GAAG,EAAE;IACf;EACJ;EACA;EACA,OAAOP,CAAC;AACZ,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACApF,IAAI,CAACC,IAAI,CAACC,QAAQ,CAAC8F,WAAW,GAAG,UAAUC,SAAS,EAAE;EAClD,IAAIC,IAAI,GAAG,SAAAA,CAAU9F,CAAC,EAAE;IACpB,IAAIC,CAAC,GAAGD,CAAC,CAACE,QAAQ,CAAC,EAAE,CAAC;IACtB,IAAID,CAAC,CAACE,MAAM,IAAI,CAAC,EACbF,CAAC,GAAG,GAAG,GAAGA,CAAC;IACf,OAAOA,CAAC;EACZ,CAAC;EACD,IAAI8F,OAAO,GAAG,SAAAA,CAAUC,IAAI,EAAE;IAC1B,IAAI/F,CAAC,GAAG,EAAE;IACV,IAAI0F,EAAE,GAAG,IAAIjG,UAAU,CAACsG,IAAI,EAAE,EAAE,CAAC;IACjC,IAAIC,CAAC,GAAGN,EAAE,CAACzF,QAAQ,CAAC,CAAC,CAAC;IACtB,IAAIgG,MAAM,GAAG,CAAC,GAAGD,CAAC,CAAC9F,MAAM,GAAG,CAAC;IAC7B,IAAI+F,MAAM,IAAI,CAAC,EACXA,MAAM,GAAG,CAAC;IACd,IAAIC,IAAI,GAAG,EAAE;IACb,KAAK,IAAInG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGkG,MAAM,EAAElG,CAAC,EAAE,EAC3BmG,IAAI,IAAI,GAAG;IACfF,CAAC,GAAGE,IAAI,GAAGF,CAAC;IACZ,KAAK,IAAIjG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGiG,CAAC,CAAC9F,MAAM,GAAG,CAAC,EAAEH,CAAC,IAAI,CAAC,EAAE;MACtC,IAAIoG,EAAE,GAAGH,CAAC,CAAC3F,MAAM,CAACN,CAAC,EAAE,CAAC,CAAC;MACvB,IAAIA,CAAC,IAAIiG,CAAC,CAAC9F,MAAM,GAAG,CAAC,EACjBiG,EAAE,GAAG,GAAG,GAAGA,EAAE;MACjBnG,CAAC,IAAI6F,IAAI,CAACZ,QAAQ,CAACkB,EAAE,EAAE,CAAC,CAAC,CAAC;IAC9B;IACA,OAAOnG,CAAC;EACZ,CAAC;EACD,IAAI,CAAC4F,SAAS,CAACtF,KAAK,CAAC,WAAW,CAAC,EAAE;IAC/B,MAAM,wBAAwB,GAAGsF,SAAS;EAC9C;EACA,IAAI5F,CAAC,GAAG,EAAE;EACV,IAAIgE,CAAC,GAAG4B,SAAS,CAACQ,KAAK,CAAC,GAAG,CAAC;EAC5B,IAAIlB,EAAE,GAAGD,QAAQ,CAACjB,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAGiB,QAAQ,CAACjB,CAAC,CAAC,CAAC,CAAC,CAAC;EAC7ChE,CAAC,IAAI6F,IAAI,CAACX,EAAE,CAAC;EACblB,CAAC,CAACqC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;EACd,KAAK,IAAItG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGiE,CAAC,CAAC9D,MAAM,EAAEH,CAAC,EAAE,EAAE;IAC/BC,CAAC,IAAI8F,OAAO,CAAC9B,CAAC,CAACjE,CAAC,CAAC,CAAC;EACtB;EACA,OAAOC,CAAC;AACZ,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAL,IAAI,CAACC,IAAI,CAAC0G,UAAU,GAAG,YAAY;EAC/B,IAAIC,UAAU,GAAG,IAAI;EACrB,IAAIC,IAAI,GAAG,IAAI;EACf,IAAIC,EAAE,GAAG,IAAI;EACb,IAAIC,EAAE,GAAG,IAAI;EACb,IAAIC,EAAE,GAAG,EAAE;EACX;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACC,qBAAqB,GAAG,YAAY;IACrC,IAAI,OAAO,IAAI,CAACD,EAAE,IAAI,WAAW,IAAI,IAAI,CAACA,EAAE,IAAI,IAAI,EAAE;MAClD,MAAM,+BAA+B;IACzC;IACA,IAAI,IAAI,CAACA,EAAE,CAACzG,MAAM,GAAG,CAAC,IAAI,CAAC,EAAE;MACzB,MAAM,mCAAmC,GAAGyG,EAAE,CAACzG,MAAM,GAAG,KAAK,GAAG,IAAI,CAACyG,EAAE;IAC3E;IACA,IAAIE,CAAC,GAAG,IAAI,CAACF,EAAE,CAACzG,MAAM,GAAG,CAAC;IAC1B,IAAI4G,EAAE,GAAGD,CAAC,CAAC5G,QAAQ,CAAC,EAAE,CAAC;IACvB,IAAI6G,EAAE,CAAC5G,MAAM,GAAG,CAAC,IAAI,CAAC,EAAE;MACpB4G,EAAE,GAAG,GAAG,GAAGA,EAAE;IACjB;IACA,IAAID,CAAC,GAAG,GAAG,EAAE;MACT,OAAOC,EAAE;IACb,CAAC,MACI;MACD,IAAIC,KAAK,GAAGD,EAAE,CAAC5G,MAAM,GAAG,CAAC;MACzB,IAAI6G,KAAK,GAAG,EAAE,EAAE;QACZ,MAAM,gDAAgD,GAAGF,CAAC,CAAC5G,QAAQ,CAAC,EAAE,CAAC;MAC3E;MACA,IAAI+G,IAAI,GAAG,GAAG,GAAGD,KAAK;MACtB,OAAOC,IAAI,CAAC/G,QAAQ,CAAC,EAAE,CAAC,GAAG6G,EAAE;IACjC;EACJ,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAAClC,aAAa,GAAG,YAAY;IAC7B,IAAI,IAAI,CAAC4B,IAAI,IAAI,IAAI,IAAI,IAAI,CAACD,UAAU,EAAE;MACtC,IAAI,CAACI,EAAE,GAAG,IAAI,CAACM,gBAAgB,CAAC,CAAC;MACjC,IAAI,CAACP,EAAE,GAAG,IAAI,CAACE,qBAAqB,CAAC,CAAC;MACtC,IAAI,CAACJ,IAAI,GAAG,IAAI,CAACC,EAAE,GAAG,IAAI,CAACC,EAAE,GAAG,IAAI,CAACC,EAAE;MACvC,IAAI,CAACJ,UAAU,GAAG,KAAK;MACvB;IACJ;IACA,OAAO,IAAI,CAACC,IAAI;EACpB,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACU,WAAW,GAAG,YAAY;IAC3B,IAAI,CAACtC,aAAa,CAAC,CAAC;IACpB,OAAO,IAAI,CAAC+B,EAAE;EAClB,CAAC;EACD,IAAI,CAACM,gBAAgB,GAAG,YAAY;IAChC,OAAO,EAAE;EACb,CAAC;AACL,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAtH,IAAI,CAACC,IAAI,CAACuH,iBAAiB,GAAG,UAAUC,MAAM,EAAE;EAC5CzH,IAAI,CAACC,IAAI,CAACuH,iBAAiB,CAACE,UAAU,CAACC,WAAW,CAACjD,IAAI,CAAC,IAAI,CAAC;EAC7D,IAAIU,CAAC,GAAG,IAAI;EACZ,IAAI4B,EAAE,GAAG,IAAI;EACb;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACY,SAAS,GAAG,YAAY;IACzB,OAAO,IAAI,CAACxC,CAAC;EACjB,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACyC,SAAS,GAAG,UAAUC,IAAI,EAAE;IAC7B,IAAI,CAACjB,IAAI,GAAG,IAAI;IAChB,IAAI,CAACD,UAAU,GAAG,IAAI;IACtB,IAAI,CAACxB,CAAC,GAAG0C,IAAI;IACb,IAAI,CAACd,EAAE,GAAGe,MAAM,CAAC,IAAI,CAAC3C,CAAC,CAAC;EAC5B,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAAC4C,YAAY,GAAG,UAAUC,YAAY,EAAE;IACxC,IAAI,CAACpB,IAAI,GAAG,IAAI;IAChB,IAAI,CAACD,UAAU,GAAG,IAAI;IACtB,IAAI,CAACxB,CAAC,GAAG,IAAI;IACb,IAAI,CAAC4B,EAAE,GAAGiB,YAAY;EAC1B,CAAC;EACD,IAAI,CAACX,gBAAgB,GAAG,YAAY;IAChC,OAAO,IAAI,CAACN,EAAE;EAClB,CAAC;EACD,IAAI,OAAOS,MAAM,IAAI,WAAW,EAAE;IAC9B,IAAI,OAAOA,MAAM,IAAI,QAAQ,EAAE;MAC3B,IAAI,CAACI,SAAS,CAACJ,MAAM,CAAC;IAC1B,CAAC,MACI,IAAI,OAAOA,MAAM,CAAC,KAAK,CAAC,IAAI,WAAW,EAAE;MAC1C,IAAI,CAACI,SAAS,CAACJ,MAAM,CAAC,KAAK,CAAC,CAAC;IACjC,CAAC,MACI,IAAI,OAAOA,MAAM,CAAC,KAAK,CAAC,IAAI,WAAW,EAAE;MAC1C,IAAI,CAACO,YAAY,CAACP,MAAM,CAAC,KAAK,CAAC,CAAC;IACpC;EACJ;AACJ,CAAC;AACD1H,KAAK,CAACmI,IAAI,CAACC,MAAM,CAACnI,IAAI,CAACC,IAAI,CAACuH,iBAAiB,EAAExH,IAAI,CAACC,IAAI,CAAC0G,UAAU,CAAC;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA3G,IAAI,CAACC,IAAI,CAACmI,eAAe,GAAG,UAAUX,MAAM,EAAE;EAC1CzH,IAAI,CAACC,IAAI,CAACmI,eAAe,CAACV,UAAU,CAACC,WAAW,CAACjD,IAAI,CAAC,IAAI,CAAC;EAC3D,IAAIU,CAAC,GAAG,IAAI;EACZ,IAAIiD,IAAI,GAAG,IAAI;EACf;EACA,IAAI,CAACC,cAAc,GAAG,UAAUC,CAAC,EAAE;IAC/BC,GAAG,GAAGD,CAAC,CAACE,OAAO,CAAC,CAAC,GAAIF,CAAC,CAACG,iBAAiB,CAAC,CAAC,GAAG,KAAM;IACnD,IAAIC,OAAO,GAAG,IAAIC,IAAI,CAACJ,GAAG,CAAC;IAC3B,OAAOG,OAAO;EAClB,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACE,UAAU,GAAG,UAAUC,UAAU,EAAEC,IAAI,EAAEC,UAAU,EAAE;IACtD,IAAIC,GAAG,GAAG,IAAI,CAACC,WAAW;IAC1B,IAAIX,CAAC,GAAG,IAAI,CAACD,cAAc,CAACQ,UAAU,CAAC;IACvC,IAAIK,IAAI,GAAGC,MAAM,CAACb,CAAC,CAACc,WAAW,CAAC,CAAC,CAAC;IAClC,IAAIN,IAAI,IAAI,KAAK,EACbI,IAAI,GAAGA,IAAI,CAACzI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;IAC5B,IAAI4I,KAAK,GAAGL,GAAG,CAACG,MAAM,CAACb,CAAC,CAACgB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC5C,IAAIC,GAAG,GAAGP,GAAG,CAACG,MAAM,CAACb,CAAC,CAACkB,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACrC,IAAIC,IAAI,GAAGT,GAAG,CAACG,MAAM,CAACb,CAAC,CAACoB,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACvC,IAAIC,GAAG,GAAGX,GAAG,CAACG,MAAM,CAACb,CAAC,CAACsB,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACxC,IAAIC,GAAG,GAAGb,GAAG,CAACG,MAAM,CAACb,CAAC,CAACwB,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACxC,IAAI3E,CAAC,GAAG+D,IAAI,GAAGG,KAAK,GAAGE,GAAG,GAAGE,IAAI,GAAGE,GAAG,GAAGE,GAAG;IAC7C,IAAId,UAAU,KAAK,IAAI,EAAE;MACrB,IAAIgB,MAAM,GAAGzB,CAAC,CAAC0B,eAAe,CAAC,CAAC;MAChC,IAAID,MAAM,IAAI,CAAC,EAAE;QACb,IAAIE,OAAO,GAAGjB,GAAG,CAACG,MAAM,CAACY,MAAM,CAAC,EAAE,CAAC,CAAC;QACpCE,OAAO,GAAGA,OAAO,CAAC9I,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC;QACtCgE,CAAC,GAAGA,CAAC,GAAG,GAAG,GAAG8E,OAAO;MACzB;IACJ;IACA,OAAO9E,CAAC,GAAG,GAAG;EAClB,CAAC;EACD,IAAI,CAAC8D,WAAW,GAAG,UAAU9D,CAAC,EAAE+E,GAAG,EAAE;IACjC,IAAI/E,CAAC,CAAC7E,MAAM,IAAI4J,GAAG,EACf,OAAO/E,CAAC;IACZ,OAAO,IAAIgF,KAAK,CAACD,GAAG,GAAG/E,CAAC,CAAC7E,MAAM,GAAG,CAAC,CAAC,CAAC8J,IAAI,CAAC,GAAG,CAAC,GAAGjF,CAAC;EACtD,CAAC;EACD;EACA;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACwC,SAAS,GAAG,YAAY;IACzB,OAAO,IAAI,CAACxC,CAAC;EACjB,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACyC,SAAS,GAAG,UAAUC,IAAI,EAAE;IAC7B,IAAI,CAACjB,IAAI,GAAG,IAAI;IAChB,IAAI,CAACD,UAAU,GAAG,IAAI;IACtB,IAAI,CAACxB,CAAC,GAAG0C,IAAI;IACb,IAAI,CAACd,EAAE,GAAGe,MAAM,CAACD,IAAI,CAAC;EAC1B,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACwC,cAAc,GAAG,UAAUnB,IAAI,EAAEG,KAAK,EAAEE,GAAG,EAAEE,IAAI,EAAEE,GAAG,EAAEE,GAAG,EAAE;IAC9D,IAAIhB,UAAU,GAAG,IAAIF,IAAI,CAACA,IAAI,CAAC2B,GAAG,CAACpB,IAAI,EAAEG,KAAK,GAAG,CAAC,EAAEE,GAAG,EAAEE,IAAI,EAAEE,GAAG,EAAEE,GAAG,EAAE,CAAC,CAAC,CAAC;IAC5E,IAAI,CAACU,SAAS,CAAC1B,UAAU,CAAC;EAC9B,CAAC;EACD,IAAI,CAACxB,gBAAgB,GAAG,YAAY;IAChC,OAAO,IAAI,CAACN,EAAE;EAClB,CAAC;AACL,CAAC;AACDjH,KAAK,CAACmI,IAAI,CAACC,MAAM,CAACnI,IAAI,CAACC,IAAI,CAACmI,eAAe,EAAEpI,IAAI,CAACC,IAAI,CAAC0G,UAAU,CAAC;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA3G,IAAI,CAACC,IAAI,CAACwK,qBAAqB,GAAG,UAAUhD,MAAM,EAAE;EAChDzH,IAAI,CAACC,IAAI,CAACuH,iBAAiB,CAACE,UAAU,CAACC,WAAW,CAACjD,IAAI,CAAC,IAAI,CAAC;EAC7D,IAAIgG,SAAS,GAAG,IAAI;EACpB;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACC,oBAAoB,GAAG,UAAUC,eAAe,EAAE;IACnD,IAAI,CAAC/D,IAAI,GAAG,IAAI;IAChB,IAAI,CAACD,UAAU,GAAG,IAAI;IACtB,IAAI,CAAC8D,SAAS,GAAGE,eAAe;EACpC,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACC,gBAAgB,GAAG,UAAUC,UAAU,EAAE;IAC1C,IAAI,CAACjE,IAAI,GAAG,IAAI;IAChB,IAAI,CAACD,UAAU,GAAG,IAAI;IACtB,IAAI,CAAC8D,SAAS,CAACnG,IAAI,CAACuG,UAAU,CAAC;EACnC,CAAC;EACD,IAAI,CAACJ,SAAS,GAAG,IAAIN,KAAK,CAAC,CAAC;EAC5B,IAAI,OAAO3C,MAAM,IAAI,WAAW,EAAE;IAC9B,IAAI,OAAOA,MAAM,CAAC,OAAO,CAAC,IAAI,WAAW,EAAE;MACvC,IAAI,CAACiD,SAAS,GAAGjD,MAAM,CAAC,OAAO,CAAC;IACpC;EACJ;AACJ,CAAC;AACD1H,KAAK,CAACmI,IAAI,CAACC,MAAM,CAACnI,IAAI,CAACC,IAAI,CAACwK,qBAAqB,EAAEzK,IAAI,CAACC,IAAI,CAAC0G,UAAU,CAAC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA3G,IAAI,CAACC,IAAI,CAAC6B,UAAU,GAAG,YAAY;EAC/B9B,IAAI,CAACC,IAAI,CAAC6B,UAAU,CAAC4F,UAAU,CAACC,WAAW,CAACjD,IAAI,CAAC,IAAI,CAAC;EACtD,IAAI,CAACoC,EAAE,GAAG,IAAI;EACd,IAAI,CAACD,IAAI,GAAG,QAAQ;AACxB,CAAC;AACD9G,KAAK,CAACmI,IAAI,CAACC,MAAM,CAACnI,IAAI,CAACC,IAAI,CAAC6B,UAAU,EAAE9B,IAAI,CAACC,IAAI,CAAC0G,UAAU,CAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA3G,IAAI,CAACC,IAAI,CAAC+B,UAAU,GAAG,UAAUyF,MAAM,EAAE;EACrCzH,IAAI,CAACC,IAAI,CAAC+B,UAAU,CAAC0F,UAAU,CAACC,WAAW,CAACjD,IAAI,CAAC,IAAI,CAAC;EACtD,IAAI,CAACoC,EAAE,GAAG,IAAI;EACd;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACiE,eAAe,GAAG,UAAUtK,eAAe,EAAE;IAC9C,IAAI,CAACoG,IAAI,GAAG,IAAI;IAChB,IAAI,CAACD,UAAU,GAAG,IAAI;IACtB,IAAI,CAACI,EAAE,GAAGhH,IAAI,CAACC,IAAI,CAACC,QAAQ,CAACM,6BAA6B,CAACC,eAAe,CAAC;EAC/E,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACuK,YAAY,GAAG,UAAUC,QAAQ,EAAE;IACpC,IAAIlF,EAAE,GAAG,IAAIjG,UAAU,CAACsJ,MAAM,CAAC6B,QAAQ,CAAC,EAAE,EAAE,CAAC;IAC7C,IAAI,CAACF,eAAe,CAAChF,EAAE,CAAC;EAC5B,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACmF,WAAW,GAAG,UAAUjD,YAAY,EAAE;IACvC,IAAI,CAACjB,EAAE,GAAGiB,YAAY;EAC1B,CAAC;EACD,IAAI,CAACX,gBAAgB,GAAG,YAAY;IAChC,OAAO,IAAI,CAACN,EAAE;EAClB,CAAC;EACD,IAAI,OAAOS,MAAM,IAAI,WAAW,EAAE;IAC9B,IAAI,OAAOA,MAAM,CAAC,QAAQ,CAAC,IAAI,WAAW,EAAE;MACxC,IAAI,CAACsD,eAAe,CAACtD,MAAM,CAAC,QAAQ,CAAC,CAAC;IAC1C,CAAC,MACI,IAAI,OAAOA,MAAM,CAAC,KAAK,CAAC,IAAI,WAAW,EAAE;MAC1C,IAAI,CAACuD,YAAY,CAACvD,MAAM,CAAC,KAAK,CAAC,CAAC;IACpC,CAAC,MACI,IAAI,OAAOA,MAAM,IAAI,QAAQ,EAAE;MAChC,IAAI,CAACuD,YAAY,CAACvD,MAAM,CAAC;IAC7B,CAAC,MACI,IAAI,OAAOA,MAAM,CAAC,KAAK,CAAC,IAAI,WAAW,EAAE;MAC1C,IAAI,CAACyD,WAAW,CAACzD,MAAM,CAAC,KAAK,CAAC,CAAC;IACnC;EACJ;AACJ,CAAC;AACD1H,KAAK,CAACmI,IAAI,CAACC,MAAM,CAACnI,IAAI,CAACC,IAAI,CAAC+B,UAAU,EAAEhC,IAAI,CAACC,IAAI,CAAC0G,UAAU,CAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA3G,IAAI,CAACC,IAAI,CAACiC,YAAY,GAAG,UAAUuF,MAAM,EAAE;EACvC,IAAIA,MAAM,KAAK1C,SAAS,IAAI,OAAO0C,MAAM,CAAC9C,GAAG,KAAK,WAAW,EAAE;IAC3D,IAAIwG,CAAC,GAAGnL,IAAI,CAACC,IAAI,CAACC,QAAQ,CAACuB,SAAS,CAACgG,MAAM,CAAC9C,GAAG,CAAC;IAChD8C,MAAM,CAACtC,GAAG,GAAG,IAAI,GAAGgG,CAAC,CAAClG,aAAa,CAAC,CAAC;EACzC;EACAjF,IAAI,CAACC,IAAI,CAACiC,YAAY,CAACwF,UAAU,CAACC,WAAW,CAACjD,IAAI,CAAC,IAAI,CAAC;EACxD,IAAI,CAACoC,EAAE,GAAG,IAAI;EACd;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACsE,8BAA8B,GAAG,UAAUC,+BAA+B,EAAE;IAC7E,IAAI,CAACxE,IAAI,GAAG,IAAI;IAChB,IAAI,CAACD,UAAU,GAAG,IAAI;IACtB,IAAI,CAACI,EAAE,GAAGqE,+BAA+B;EAC7C,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACC,wBAAwB,GAAG,UAAUC,UAAU,EAAEC,MAAM,EAAE;IAC1D,IAAID,UAAU,GAAG,CAAC,IAAI,CAAC,GAAGA,UAAU,EAAE;MAClC,MAAM,wCAAwC,GAAGA,UAAU;IAC/D;IACA,IAAIE,WAAW,GAAG,GAAG,GAAGF,UAAU;IAClC,IAAI,CAAC1E,IAAI,GAAG,IAAI;IAChB,IAAI,CAACD,UAAU,GAAG,IAAI;IACtB,IAAI,CAACI,EAAE,GAAGyE,WAAW,GAAGD,MAAM;EAClC,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACE,iBAAiB,GAAG,UAAUC,YAAY,EAAE;IAC7CA,YAAY,GAAGA,YAAY,CAACvK,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;IAC9C,IAAImK,UAAU,GAAG,CAAC,GAAGI,YAAY,CAACpL,MAAM,GAAG,CAAC;IAC5C,IAAIgL,UAAU,IAAI,CAAC,EACfA,UAAU,GAAG,CAAC;IAClB,KAAK,IAAInL,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAImL,UAAU,EAAEnL,CAAC,EAAE,EAAE;MAClCuL,YAAY,IAAI,GAAG;IACvB;IACA,IAAItL,CAAC,GAAG,EAAE;IACV,KAAK,IAAID,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGuL,YAAY,CAACpL,MAAM,GAAG,CAAC,EAAEH,CAAC,IAAI,CAAC,EAAE;MACjD,IAAIiG,CAAC,GAAGsF,YAAY,CAACjL,MAAM,CAACN,CAAC,EAAE,CAAC,CAAC;MACjC,IAAIwL,CAAC,GAAGtG,QAAQ,CAACe,CAAC,EAAE,CAAC,CAAC,CAAC/F,QAAQ,CAAC,EAAE,CAAC;MACnC,IAAIsL,CAAC,CAACrL,MAAM,IAAI,CAAC,EACbqL,CAAC,GAAG,GAAG,GAAGA,CAAC;MACfvL,CAAC,IAAIuL,CAAC;IACV;IACA,IAAI,CAAC/E,IAAI,GAAG,IAAI;IAChB,IAAI,CAACD,UAAU,GAAG,IAAI;IACtB,IAAI,CAACI,EAAE,GAAG,GAAG,GAAGuE,UAAU,GAAGlL,CAAC;EAClC,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACwL,iBAAiB,GAAG,UAAUC,YAAY,EAAE;IAC7C,IAAI1G,CAAC,GAAG,EAAE;IACV,KAAK,IAAIhF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0L,YAAY,CAACvL,MAAM,EAAEH,CAAC,EAAE,EAAE;MAC1C,IAAI0L,YAAY,CAAC1L,CAAC,CAAC,IAAI,IAAI,EAAE;QACzBgF,CAAC,IAAI,GAAG;MACZ,CAAC,MACI;QACDA,CAAC,IAAI,GAAG;MACZ;IACJ;IACA,IAAI,CAACsG,iBAAiB,CAACtG,CAAC,CAAC;EAC7B,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAAC2G,aAAa,GAAG,UAAUC,OAAO,EAAE;IACpC,IAAI3H,CAAC,GAAG,IAAI+F,KAAK,CAAC4B,OAAO,CAAC;IAC1B,KAAK,IAAI5L,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4L,OAAO,EAAE5L,CAAC,EAAE,EAAE;MAC9BiE,CAAC,CAACjE,CAAC,CAAC,GAAG,KAAK;IAChB;IACA,OAAOiE,CAAC;EACZ,CAAC;EACD,IAAI,CAACiD,gBAAgB,GAAG,YAAY;IAChC,OAAO,IAAI,CAACN,EAAE;EAClB,CAAC;EACD,IAAI,OAAOS,MAAM,IAAI,WAAW,EAAE;IAC9B,IAAI,OAAOA,MAAM,IAAI,QAAQ,IAAIA,MAAM,CAACwE,WAAW,CAAC,CAAC,CAACtL,KAAK,CAAC,aAAa,CAAC,EAAE;MACxE,IAAI,CAACyK,8BAA8B,CAAC3D,MAAM,CAAC;IAC/C,CAAC,MACI,IAAI,OAAOA,MAAM,CAAC,KAAK,CAAC,IAAI,WAAW,EAAE;MAC1C,IAAI,CAAC2D,8BAA8B,CAAC3D,MAAM,CAAC,KAAK,CAAC,CAAC;IACtD,CAAC,MACI,IAAI,OAAOA,MAAM,CAAC,KAAK,CAAC,IAAI,WAAW,EAAE;MAC1C,IAAI,CAACiE,iBAAiB,CAACjE,MAAM,CAAC,KAAK,CAAC,CAAC;IACzC,CAAC,MACI,IAAI,OAAOA,MAAM,CAAC,OAAO,CAAC,IAAI,WAAW,EAAE;MAC5C,IAAI,CAACoE,iBAAiB,CAACpE,MAAM,CAAC,OAAO,CAAC,CAAC;IAC3C;EACJ;AACJ,CAAC;AACD1H,KAAK,CAACmI,IAAI,CAACC,MAAM,CAACnI,IAAI,CAACC,IAAI,CAACiC,YAAY,EAAElC,IAAI,CAACC,IAAI,CAAC0G,UAAU,CAAC;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA3G,IAAI,CAACC,IAAI,CAACmC,cAAc,GAAG,UAAUqF,MAAM,EAAE;EACzC,IAAIA,MAAM,KAAK1C,SAAS,IAAI,OAAO0C,MAAM,CAAC9C,GAAG,KAAK,WAAW,EAAE;IAC3D,IAAIwG,CAAC,GAAGnL,IAAI,CAACC,IAAI,CAACC,QAAQ,CAACuB,SAAS,CAACgG,MAAM,CAAC9C,GAAG,CAAC;IAChD8C,MAAM,CAACtC,GAAG,GAAGgG,CAAC,CAAClG,aAAa,CAAC,CAAC;EAClC;EACAjF,IAAI,CAACC,IAAI,CAACmC,cAAc,CAACsF,UAAU,CAACC,WAAW,CAACjD,IAAI,CAAC,IAAI,EAAE+C,MAAM,CAAC;EAClE,IAAI,CAACX,EAAE,GAAG,IAAI;AAClB,CAAC;AACD/G,KAAK,CAACmI,IAAI,CAACC,MAAM,CAACnI,IAAI,CAACC,IAAI,CAACmC,cAAc,EAAEpC,IAAI,CAACC,IAAI,CAACuH,iBAAiB,CAAC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAxH,IAAI,CAACC,IAAI,CAACqC,OAAO,GAAG,YAAY;EAC5BtC,IAAI,CAACC,IAAI,CAACqC,OAAO,CAACoF,UAAU,CAACC,WAAW,CAACjD,IAAI,CAAC,IAAI,CAAC;EACnD,IAAI,CAACoC,EAAE,GAAG,IAAI;EACd,IAAI,CAACD,IAAI,GAAG,MAAM;AACtB,CAAC;AACD9G,KAAK,CAACmI,IAAI,CAACC,MAAM,CAACnI,IAAI,CAACC,IAAI,CAACqC,OAAO,EAAEtC,IAAI,CAACC,IAAI,CAAC0G,UAAU,CAAC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA3G,IAAI,CAACC,IAAI,CAACuC,mBAAmB,GAAG,UAAUiF,MAAM,EAAE;EAC9C,IAAIvB,IAAI,GAAG,SAAAA,CAAU9F,CAAC,EAAE;IACpB,IAAIC,CAAC,GAAGD,CAAC,CAACE,QAAQ,CAAC,EAAE,CAAC;IACtB,IAAID,CAAC,CAACE,MAAM,IAAI,CAAC,EACbF,CAAC,GAAG,GAAG,GAAGA,CAAC;IACf,OAAOA,CAAC;EACZ,CAAC;EACD,IAAI8F,OAAO,GAAG,SAAAA,CAAUC,IAAI,EAAE;IAC1B,IAAI/F,CAAC,GAAG,EAAE;IACV,IAAI0F,EAAE,GAAG,IAAIjG,UAAU,CAACsG,IAAI,EAAE,EAAE,CAAC;IACjC,IAAIC,CAAC,GAAGN,EAAE,CAACzF,QAAQ,CAAC,CAAC,CAAC;IACtB,IAAIgG,MAAM,GAAG,CAAC,GAAGD,CAAC,CAAC9F,MAAM,GAAG,CAAC;IAC7B,IAAI+F,MAAM,IAAI,CAAC,EACXA,MAAM,GAAG,CAAC;IACd,IAAIC,IAAI,GAAG,EAAE;IACb,KAAK,IAAInG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGkG,MAAM,EAAElG,CAAC,EAAE,EAC3BmG,IAAI,IAAI,GAAG;IACfF,CAAC,GAAGE,IAAI,GAAGF,CAAC;IACZ,KAAK,IAAIjG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGiG,CAAC,CAAC9F,MAAM,GAAG,CAAC,EAAEH,CAAC,IAAI,CAAC,EAAE;MACtC,IAAIoG,EAAE,GAAGH,CAAC,CAAC3F,MAAM,CAACN,CAAC,EAAE,CAAC,CAAC;MACvB,IAAIA,CAAC,IAAIiG,CAAC,CAAC9F,MAAM,GAAG,CAAC,EACjBiG,EAAE,GAAG,GAAG,GAAGA,EAAE;MACjBnG,CAAC,IAAI6F,IAAI,CAACZ,QAAQ,CAACkB,EAAE,EAAE,CAAC,CAAC,CAAC;IAC9B;IACA,OAAOnG,CAAC;EACZ,CAAC;EACDL,IAAI,CAACC,IAAI,CAACuC,mBAAmB,CAACkF,UAAU,CAACC,WAAW,CAACjD,IAAI,CAAC,IAAI,CAAC;EAC/D,IAAI,CAACoC,EAAE,GAAG,IAAI;EACd;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACoE,WAAW,GAAG,UAAUjD,YAAY,EAAE;IACvC,IAAI,CAACpB,IAAI,GAAG,IAAI;IAChB,IAAI,CAACD,UAAU,GAAG,IAAI;IACtB,IAAI,CAACxB,CAAC,GAAG,IAAI;IACb,IAAI,CAAC4B,EAAE,GAAGiB,YAAY;EAC1B,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACiE,iBAAiB,GAAG,UAAUjG,SAAS,EAAE;IAC1C,IAAI,CAACA,SAAS,CAACtF,KAAK,CAAC,WAAW,CAAC,EAAE;MAC/B,MAAM,wBAAwB,GAAGsF,SAAS;IAC9C;IACA,IAAI5F,CAAC,GAAG,EAAE;IACV,IAAIgE,CAAC,GAAG4B,SAAS,CAACQ,KAAK,CAAC,GAAG,CAAC;IAC5B,IAAIlB,EAAE,GAAGD,QAAQ,CAACjB,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAGiB,QAAQ,CAACjB,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7ChE,CAAC,IAAI6F,IAAI,CAACX,EAAE,CAAC;IACblB,CAAC,CAACqC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;IACd,KAAK,IAAItG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGiE,CAAC,CAAC9D,MAAM,EAAEH,CAAC,EAAE,EAAE;MAC/BC,CAAC,IAAI8F,OAAO,CAAC9B,CAAC,CAACjE,CAAC,CAAC,CAAC;IACtB;IACA,IAAI,CAACyG,IAAI,GAAG,IAAI;IAChB,IAAI,CAACD,UAAU,GAAG,IAAI;IACtB,IAAI,CAACxB,CAAC,GAAG,IAAI;IACb,IAAI,CAAC4B,EAAE,GAAG3G,CAAC;EACf,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAAC8L,YAAY,GAAG,UAAUC,OAAO,EAAE;IACnC,IAAIC,GAAG,GAAGrM,IAAI,CAACC,IAAI,CAACqM,IAAI,CAACC,GAAG,CAACC,QAAQ,CAACJ,OAAO,CAAC;IAC9C,IAAIC,GAAG,KAAK,EAAE,EAAE;MACZ,IAAI,CAACH,iBAAiB,CAACG,GAAG,CAAC;IAC/B,CAAC,MACI;MACD,MAAM,yCAAyC,GAAGD,OAAO;IAC7D;EACJ,CAAC;EACD,IAAI,CAAC9E,gBAAgB,GAAG,YAAY;IAChC,OAAO,IAAI,CAACN,EAAE;EAClB,CAAC;EACD,IAAIS,MAAM,KAAK1C,SAAS,EAAE;IACtB,IAAI,OAAO0C,MAAM,KAAK,QAAQ,EAAE;MAC5B,IAAIA,MAAM,CAAC9G,KAAK,CAAC,iBAAiB,CAAC,EAAE;QACjC,IAAI,CAACuL,iBAAiB,CAACzE,MAAM,CAAC;MAClC,CAAC,MACI;QACD,IAAI,CAAC0E,YAAY,CAAC1E,MAAM,CAAC;MAC7B;IACJ,CAAC,MACI,IAAIA,MAAM,CAAC4E,GAAG,KAAKtH,SAAS,EAAE;MAC/B,IAAI,CAACmH,iBAAiB,CAACzE,MAAM,CAAC4E,GAAG,CAAC;IACtC,CAAC,MACI,IAAI5E,MAAM,CAACtC,GAAG,KAAKJ,SAAS,EAAE;MAC/B,IAAI,CAACmG,WAAW,CAACzD,MAAM,CAACtC,GAAG,CAAC;IAChC,CAAC,MACI,IAAIsC,MAAM,CAACgF,IAAI,KAAK1H,SAAS,EAAE;MAChC,IAAI,CAACoH,YAAY,CAAC1E,MAAM,CAACgF,IAAI,CAAC;IAClC;EACJ;AACJ,CAAC;AACD1M,KAAK,CAACmI,IAAI,CAACC,MAAM,CAACnI,IAAI,CAACC,IAAI,CAACuC,mBAAmB,EAAExC,IAAI,CAACC,IAAI,CAAC0G,UAAU,CAAC;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA3G,IAAI,CAACC,IAAI,CAACyC,aAAa,GAAG,UAAU+E,MAAM,EAAE;EACxCzH,IAAI,CAACC,IAAI,CAACyC,aAAa,CAACgF,UAAU,CAACC,WAAW,CAACjD,IAAI,CAAC,IAAI,CAAC;EACzD,IAAI,CAACoC,EAAE,GAAG,IAAI;EACd;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACiE,eAAe,GAAG,UAAUtK,eAAe,EAAE;IAC9C,IAAI,CAACoG,IAAI,GAAG,IAAI;IAChB,IAAI,CAACD,UAAU,GAAG,IAAI;IACtB,IAAI,CAACI,EAAE,GAAGhH,IAAI,CAACC,IAAI,CAACC,QAAQ,CAACM,6BAA6B,CAACC,eAAe,CAAC;EAC/E,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACuK,YAAY,GAAG,UAAUC,QAAQ,EAAE;IACpC,IAAIlF,EAAE,GAAG,IAAIjG,UAAU,CAACsJ,MAAM,CAAC6B,QAAQ,CAAC,EAAE,EAAE,CAAC;IAC7C,IAAI,CAACF,eAAe,CAAChF,EAAE,CAAC;EAC5B,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACmF,WAAW,GAAG,UAAUjD,YAAY,EAAE;IACvC,IAAI,CAACjB,EAAE,GAAGiB,YAAY;EAC1B,CAAC;EACD,IAAI,CAACX,gBAAgB,GAAG,YAAY;IAChC,OAAO,IAAI,CAACN,EAAE;EAClB,CAAC;EACD,IAAI,OAAOS,MAAM,IAAI,WAAW,EAAE;IAC9B,IAAI,OAAOA,MAAM,CAAC,KAAK,CAAC,IAAI,WAAW,EAAE;MACrC,IAAI,CAACuD,YAAY,CAACvD,MAAM,CAAC,KAAK,CAAC,CAAC;IACpC,CAAC,MACI,IAAI,OAAOA,MAAM,IAAI,QAAQ,EAAE;MAChC,IAAI,CAACuD,YAAY,CAACvD,MAAM,CAAC;IAC7B,CAAC,MACI,IAAI,OAAOA,MAAM,CAAC,KAAK,CAAC,IAAI,WAAW,EAAE;MAC1C,IAAI,CAACyD,WAAW,CAACzD,MAAM,CAAC,KAAK,CAAC,CAAC;IACnC;EACJ;AACJ,CAAC;AACD1H,KAAK,CAACmI,IAAI,CAACC,MAAM,CAACnI,IAAI,CAACC,IAAI,CAACyC,aAAa,EAAE1C,IAAI,CAACC,IAAI,CAAC0G,UAAU,CAAC;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA3G,IAAI,CAACC,IAAI,CAAC2C,aAAa,GAAG,UAAU6E,MAAM,EAAE;EACxCzH,IAAI,CAACC,IAAI,CAAC2C,aAAa,CAAC8E,UAAU,CAACC,WAAW,CAACjD,IAAI,CAAC,IAAI,EAAE+C,MAAM,CAAC;EACjE,IAAI,CAACX,EAAE,GAAG,IAAI;AAClB,CAAC;AACD/G,KAAK,CAACmI,IAAI,CAACC,MAAM,CAACnI,IAAI,CAACC,IAAI,CAAC2C,aAAa,EAAE5C,IAAI,CAACC,IAAI,CAACuH,iBAAiB,CAAC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAxH,IAAI,CAACC,IAAI,CAAC6C,gBAAgB,GAAG,UAAU2E,MAAM,EAAE;EAC3CzH,IAAI,CAACC,IAAI,CAAC6C,gBAAgB,CAAC4E,UAAU,CAACC,WAAW,CAACjD,IAAI,CAAC,IAAI,EAAE+C,MAAM,CAAC;EACpE,IAAI,CAACX,EAAE,GAAG,IAAI;AAClB,CAAC;AACD/G,KAAK,CAACmI,IAAI,CAACC,MAAM,CAACnI,IAAI,CAACC,IAAI,CAAC6C,gBAAgB,EAAE9C,IAAI,CAACC,IAAI,CAACuH,iBAAiB,CAAC;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAxH,IAAI,CAACC,IAAI,CAAC+C,kBAAkB,GAAG,UAAUyE,MAAM,EAAE;EAC7CzH,IAAI,CAACC,IAAI,CAAC+C,kBAAkB,CAAC0E,UAAU,CAACC,WAAW,CAACjD,IAAI,CAAC,IAAI,EAAE+C,MAAM,CAAC;EACtE,IAAI,CAACX,EAAE,GAAG,IAAI;AAClB,CAAC;AACD/G,KAAK,CAACmI,IAAI,CAACC,MAAM,CAACnI,IAAI,CAACC,IAAI,CAAC+C,kBAAkB,EAAEhD,IAAI,CAACC,IAAI,CAACuH,iBAAiB,CAAC;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAxH,IAAI,CAACC,IAAI,CAACiD,gBAAgB,GAAG,UAAUuE,MAAM,EAAE;EAC3CzH,IAAI,CAACC,IAAI,CAACiD,gBAAgB,CAACwE,UAAU,CAACC,WAAW,CAACjD,IAAI,CAAC,IAAI,EAAE+C,MAAM,CAAC;EACpE,IAAI,CAACX,EAAE,GAAG,IAAI;AAClB,CAAC;AACD/G,KAAK,CAACmI,IAAI,CAACC,MAAM,CAACnI,IAAI,CAACC,IAAI,CAACiD,gBAAgB,EAAElD,IAAI,CAACC,IAAI,CAACuH,iBAAiB,CAAC;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAxH,IAAI,CAACC,IAAI,CAACmD,YAAY,GAAG,UAAUqE,MAAM,EAAE;EACvCzH,IAAI,CAACC,IAAI,CAACmD,YAAY,CAACsE,UAAU,CAACC,WAAW,CAACjD,IAAI,CAAC,IAAI,EAAE+C,MAAM,CAAC;EAChE,IAAI,CAACX,EAAE,GAAG,IAAI;AAClB,CAAC;AACD/G,KAAK,CAACmI,IAAI,CAACC,MAAM,CAACnI,IAAI,CAACC,IAAI,CAACmD,YAAY,EAAEpD,IAAI,CAACC,IAAI,CAACuH,iBAAiB,CAAC;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAxH,IAAI,CAACC,IAAI,CAACqD,UAAU,GAAG,UAAUmE,MAAM,EAAE;EACrCzH,IAAI,CAACC,IAAI,CAACqD,UAAU,CAACoE,UAAU,CAACC,WAAW,CAACjD,IAAI,CAAC,IAAI,EAAE+C,MAAM,CAAC;EAC9D,IAAI,CAACX,EAAE,GAAG,IAAI;EACd;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAAC0D,SAAS,GAAG,UAAU1B,UAAU,EAAE;IACnC,IAAI,CAACjC,IAAI,GAAG,IAAI;IAChB,IAAI,CAACD,UAAU,GAAG,IAAI;IACtB,IAAI,CAACyB,IAAI,GAAGS,UAAU;IACtB,IAAI,CAAC1D,CAAC,GAAG,IAAI,CAACyD,UAAU,CAAC,IAAI,CAACR,IAAI,EAAE,KAAK,CAAC;IAC1C,IAAI,CAACrB,EAAE,GAAGe,MAAM,CAAC,IAAI,CAAC3C,CAAC,CAAC;EAC5B,CAAC;EACD,IAAI,CAACkC,gBAAgB,GAAG,YAAY;IAChC,IAAI,OAAO,IAAI,CAACe,IAAI,IAAI,WAAW,IAAI,OAAO,IAAI,CAACjD,CAAC,IAAI,WAAW,EAAE;MACjE,IAAI,CAACiD,IAAI,GAAG,IAAIO,IAAI,CAAC,CAAC;MACtB,IAAI,CAACxD,CAAC,GAAG,IAAI,CAACyD,UAAU,CAAC,IAAI,CAACR,IAAI,EAAE,KAAK,CAAC;MAC1C,IAAI,CAACrB,EAAE,GAAGe,MAAM,CAAC,IAAI,CAAC3C,CAAC,CAAC;IAC5B;IACA,OAAO,IAAI,CAAC4B,EAAE;EAClB,CAAC;EACD,IAAIS,MAAM,KAAK1C,SAAS,EAAE;IACtB,IAAI0C,MAAM,CAACiF,GAAG,KAAK3H,SAAS,EAAE;MAC1B,IAAI,CAAC8C,SAAS,CAACJ,MAAM,CAACiF,GAAG,CAAC;IAC9B,CAAC,MACI,IAAI,OAAOjF,MAAM,IAAI,QAAQ,IAAIA,MAAM,CAAC9G,KAAK,CAAC,cAAc,CAAC,EAAE;MAChE,IAAI,CAACkH,SAAS,CAACJ,MAAM,CAAC;IAC1B,CAAC,MACI,IAAIA,MAAM,CAACtC,GAAG,KAAKJ,SAAS,EAAE;MAC/B,IAAI,CAACiD,YAAY,CAACP,MAAM,CAACtC,GAAG,CAAC;IACjC,CAAC,MACI,IAAIsC,MAAM,CAACY,IAAI,KAAKtD,SAAS,EAAE;MAChC,IAAI,CAACyF,SAAS,CAAC/C,MAAM,CAACY,IAAI,CAAC;IAC/B;EACJ;AACJ,CAAC;AACDtI,KAAK,CAACmI,IAAI,CAACC,MAAM,CAACnI,IAAI,CAACC,IAAI,CAACqD,UAAU,EAAEtD,IAAI,CAACC,IAAI,CAACmI,eAAe,CAAC;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACApI,IAAI,CAACC,IAAI,CAACuD,kBAAkB,GAAG,UAAUiE,MAAM,EAAE;EAC7CzH,IAAI,CAACC,IAAI,CAACuD,kBAAkB,CAACkE,UAAU,CAACC,WAAW,CAACjD,IAAI,CAAC,IAAI,EAAE+C,MAAM,CAAC;EACtE,IAAI,CAACX,EAAE,GAAG,IAAI;EACd,IAAI,CAACkC,UAAU,GAAG,KAAK;EACvB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACwB,SAAS,GAAG,UAAU1B,UAAU,EAAE;IACnC,IAAI,CAACjC,IAAI,GAAG,IAAI;IAChB,IAAI,CAACD,UAAU,GAAG,IAAI;IACtB,IAAI,CAACyB,IAAI,GAAGS,UAAU;IACtB,IAAI,CAAC1D,CAAC,GAAG,IAAI,CAACyD,UAAU,CAAC,IAAI,CAACR,IAAI,EAAE,KAAK,EAAE,IAAI,CAACW,UAAU,CAAC;IAC3D,IAAI,CAAChC,EAAE,GAAGe,MAAM,CAAC,IAAI,CAAC3C,CAAC,CAAC;EAC5B,CAAC;EACD,IAAI,CAACkC,gBAAgB,GAAG,YAAY;IAChC,IAAI,IAAI,CAACe,IAAI,KAAKtD,SAAS,IAAI,IAAI,CAACK,CAAC,KAAKL,SAAS,EAAE;MACjD,IAAI,CAACsD,IAAI,GAAG,IAAIO,IAAI,CAAC,CAAC;MACtB,IAAI,CAACxD,CAAC,GAAG,IAAI,CAACyD,UAAU,CAAC,IAAI,CAACR,IAAI,EAAE,KAAK,EAAE,IAAI,CAACW,UAAU,CAAC;MAC3D,IAAI,CAAChC,EAAE,GAAGe,MAAM,CAAC,IAAI,CAAC3C,CAAC,CAAC;IAC5B;IACA,OAAO,IAAI,CAAC4B,EAAE;EAClB,CAAC;EACD,IAAIS,MAAM,KAAK1C,SAAS,EAAE;IACtB,IAAI0C,MAAM,CAACiF,GAAG,KAAK3H,SAAS,EAAE;MAC1B,IAAI,CAAC8C,SAAS,CAACJ,MAAM,CAACiF,GAAG,CAAC;IAC9B,CAAC,MACI,IAAI,OAAOjF,MAAM,IAAI,QAAQ,IAAIA,MAAM,CAAC9G,KAAK,CAAC,cAAc,CAAC,EAAE;MAChE,IAAI,CAACkH,SAAS,CAACJ,MAAM,CAAC;IAC1B,CAAC,MACI,IAAIA,MAAM,CAACtC,GAAG,KAAKJ,SAAS,EAAE;MAC/B,IAAI,CAACiD,YAAY,CAACP,MAAM,CAACtC,GAAG,CAAC;IACjC,CAAC,MACI,IAAIsC,MAAM,CAACY,IAAI,KAAKtD,SAAS,EAAE;MAChC,IAAI,CAACyF,SAAS,CAAC/C,MAAM,CAACY,IAAI,CAAC;IAC/B;IACA,IAAIZ,MAAM,CAACuC,MAAM,KAAK,IAAI,EAAE;MACxB,IAAI,CAAChB,UAAU,GAAG,IAAI;IAC1B;EACJ;AACJ,CAAC;AACDjJ,KAAK,CAACmI,IAAI,CAACC,MAAM,CAACnI,IAAI,CAACC,IAAI,CAACuD,kBAAkB,EAAExD,IAAI,CAACC,IAAI,CAACmI,eAAe,CAAC;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACApI,IAAI,CAACC,IAAI,CAACyD,WAAW,GAAG,UAAU+D,MAAM,EAAE;EACtCzH,IAAI,CAACC,IAAI,CAACyD,WAAW,CAACgE,UAAU,CAACC,WAAW,CAACjD,IAAI,CAAC,IAAI,EAAE+C,MAAM,CAAC;EAC/D,IAAI,CAACX,EAAE,GAAG,IAAI;EACd,IAAI,CAACQ,gBAAgB,GAAG,YAAY;IAChC,IAAIjH,CAAC,GAAG,EAAE;IACV,KAAK,IAAID,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACsK,SAAS,CAACnK,MAAM,EAAEH,CAAC,EAAE,EAAE;MAC5C,IAAIkE,OAAO,GAAG,IAAI,CAACoG,SAAS,CAACtK,CAAC,CAAC;MAC/BC,CAAC,IAAIiE,OAAO,CAACW,aAAa,CAAC,CAAC;IAChC;IACA,IAAI,CAAC+B,EAAE,GAAG3G,CAAC;IACX,OAAO,IAAI,CAAC2G,EAAE;EAClB,CAAC;AACL,CAAC;AACDjH,KAAK,CAACmI,IAAI,CAACC,MAAM,CAACnI,IAAI,CAACC,IAAI,CAACyD,WAAW,EAAE1D,IAAI,CAACC,IAAI,CAACwK,qBAAqB,CAAC;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAzK,IAAI,CAACC,IAAI,CAAC2D,MAAM,GAAG,UAAU6D,MAAM,EAAE;EACjCzH,IAAI,CAACC,IAAI,CAAC2D,MAAM,CAAC8D,UAAU,CAACC,WAAW,CAACjD,IAAI,CAAC,IAAI,EAAE+C,MAAM,CAAC;EAC1D,IAAI,CAACX,EAAE,GAAG,IAAI;EACd,IAAI,CAAC6F,QAAQ,GAAG,IAAI,CAAC,CAAC;EACtB,IAAI,CAACrF,gBAAgB,GAAG,YAAY;IAChC,IAAIjD,CAAC,GAAG,IAAI+F,KAAK,CAAC,CAAC;IACnB,KAAK,IAAIhK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACsK,SAAS,CAACnK,MAAM,EAAEH,CAAC,EAAE,EAAE;MAC5C,IAAIkE,OAAO,GAAG,IAAI,CAACoG,SAAS,CAACtK,CAAC,CAAC;MAC/BiE,CAAC,CAACE,IAAI,CAACD,OAAO,CAACW,aAAa,CAAC,CAAC,CAAC;IACnC;IACA,IAAI,IAAI,CAAC0H,QAAQ,IAAI,IAAI,EACrBtI,CAAC,CAACuI,IAAI,CAAC,CAAC;IACZ,IAAI,CAAC5F,EAAE,GAAG3C,CAAC,CAACgG,IAAI,CAAC,EAAE,CAAC;IACpB,OAAO,IAAI,CAACrD,EAAE;EAClB,CAAC;EACD,IAAI,OAAOS,MAAM,IAAI,WAAW,EAAE;IAC9B,IAAI,OAAOA,MAAM,CAACoF,QAAQ,IAAI,WAAW,IACrCpF,MAAM,CAACoF,QAAQ,IAAI,KAAK,EACxB,IAAI,CAACF,QAAQ,GAAG,KAAK;EAC7B;AACJ,CAAC;AACD5M,KAAK,CAACmI,IAAI,CAACC,MAAM,CAACnI,IAAI,CAACC,IAAI,CAAC2D,MAAM,EAAE5D,IAAI,CAACC,IAAI,CAACwK,qBAAqB,CAAC;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAzK,IAAI,CAACC,IAAI,CAAC6D,eAAe,GAAG,UAAU2D,MAAM,EAAE;EAC1CzH,IAAI,CAACC,IAAI,CAAC6D,eAAe,CAAC4D,UAAU,CAACC,WAAW,CAACjD,IAAI,CAAC,IAAI,CAAC;EAC3D,IAAI,CAACoC,EAAE,GAAG,IAAI;EACd,IAAI,CAACE,EAAE,GAAG,EAAE;EACZ,IAAI,CAAC8F,UAAU,GAAG,IAAI;EACtB,IAAI,CAAChC,UAAU,GAAG,IAAI;EACtB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,CAACiC,aAAa,GAAG,UAAUC,cAAc,EAAEC,QAAQ,EAAEnC,UAAU,EAAE;IACjE,IAAI,CAAChE,EAAE,GAAGmG,QAAQ;IAClB,IAAI,CAACH,UAAU,GAAGE,cAAc;IAChC,IAAI,CAAClC,UAAU,GAAGA,UAAU;IAC5B,IAAI,IAAI,CAACgC,UAAU,EAAE;MACjB,IAAI,CAAC9F,EAAE,GAAG,IAAI,CAAC8D,UAAU,CAAC7F,aAAa,CAAC,CAAC;MACzC,IAAI,CAAC4B,IAAI,GAAG,IAAI;MAChB,IAAI,CAACD,UAAU,GAAG,IAAI;IAC1B,CAAC,MACI;MACD,IAAI,CAACI,EAAE,GAAG,IAAI;MACd,IAAI,CAACH,IAAI,GAAGiE,UAAU,CAAC7F,aAAa,CAAC,CAAC;MACtC,IAAI,CAAC4B,IAAI,GAAG,IAAI,CAACA,IAAI,CAACzF,OAAO,CAAC,KAAK,EAAE6L,QAAQ,CAAC;MAC9C,IAAI,CAACrG,UAAU,GAAG,KAAK;IAC3B;EACJ,CAAC;EACD,IAAI,CAACU,gBAAgB,GAAG,YAAY;IAChC,OAAO,IAAI,CAACN,EAAE;EAClB,CAAC;EACD,IAAI,OAAOS,MAAM,IAAI,WAAW,EAAE;IAC9B,IAAI,OAAOA,MAAM,CAAC,KAAK,CAAC,IAAI,WAAW,EAAE;MACrC,IAAI,CAACX,EAAE,GAAGW,MAAM,CAAC,KAAK,CAAC;IAC3B;IACA,IAAI,OAAOA,MAAM,CAAC,UAAU,CAAC,IAAI,WAAW,EAAE;MAC1C,IAAI,CAACqF,UAAU,GAAGrF,MAAM,CAAC,UAAU,CAAC;IACxC;IACA,IAAI,OAAOA,MAAM,CAAC,KAAK,CAAC,IAAI,WAAW,EAAE;MACrC,IAAI,CAACqD,UAAU,GAAGrD,MAAM,CAAC,KAAK,CAAC;MAC/B,IAAI,CAACsF,aAAa,CAAC,IAAI,CAACD,UAAU,EAAE,IAAI,CAAChG,EAAE,EAAE,IAAI,CAACgE,UAAU,CAAC;IACjE;EACJ;AACJ,CAAC;AACD/K,KAAK,CAACmI,IAAI,CAACC,MAAM,CAACnI,IAAI,CAACC,IAAI,CAAC6D,eAAe,EAAE9D,IAAI,CAACC,IAAI,CAAC0G,UAAU,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}